<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="C:/dev/git/selz/API/src/Selz.Api/Controllers/BlogPostsController.cs" timestamp="1567381666686">
        <mark key="[" line="45" column="62" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Selz.Shops.Core.csproj" timestamp="1567390012887" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Shops/ProductScenarios.cs" timestamp="1567383625017" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/CategoryScenarios.cs" timestamp="1567388040045" />
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Settings/Controllers/DeveloperController.cs" timestamp="1567389377006" />
      <file name="C:/dev/git/selz/API/src/Selz.Core/Domains/Shops/Extensions/BlogPostExtension.cs" timestamp="1567380313103" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api/Mapping/ImageMappings.cs" timestamp="1567387920668" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/BlogPosts/CategoryDataFixture.cs" timestamp="1567388127634">
        <mark key="[" line="43" column="79" />
        <mark key="]" line="43" column="79" />
        <mark key="." line="43" column="79" />
        <mark key="^" line="4" column="16" />
      </file>
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api/Mapping/CategoryProfile.cs" timestamp="1567388855303" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/BlogPosts/BlogPostScenarios.cs" timestamp="1567389073531">
        <mark key="'" line="20" column="8" />
        <mark key="[" line="48" column="45" />
        <mark key="]" line="48" column="45" />
        <mark key="." line="48" column="45" />
        <mark key="^" line="48" column="51" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Mapping/BlogPosts/BlogPostProfile.cs" timestamp="1567390041036">
        <mark key="[" line="36" column="9" />
      </file>
      <file name="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Startup.cs" timestamp="1567378520686" />
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/40343BBC-71F2-4F56-B78F-AF94A97AE3DA/10/012079dc/BlogPost.cs" timestamp="1567380299624" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/Base/EnvironmentHelper.cs" timestamp="1567388261514" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/Base/FakeCategories.cs" timestamp="1567388502127">
        <mark key="'" line="11" column="61" />
        <mark key="[" line="28" column="27" />
      </file>
      <file name="/Startup.cs" timestamp="1567382110844" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.Models/Helpers/Constants.cs" timestamp="1567389004595" />
      <file name="C:/dev/git/selz/API/src/Selz.Core/Services/Blog/BlogService.cs" timestamp="1567381698640" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Client/ICatalogClient.cs" timestamp="1567385635612" />
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/76EEA7B8-4033-4186-B9A9-1802098BB560/d9/a80bbf16/Image.cs" timestamp="1567388635303" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.Models/CategoryResponse.cs" timestamp="1567389155050" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.Models/ImageResponse.cs" timestamp="1567387747201" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Extensions/StringExtensions.cs" timestamp="1567390237720">
        <mark key="[" line="12" column="9" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
        <mark key="^" line="0" column="0" />
      </file>
      <file name="C:/dev/git/selz/API/src/Selz.Core/Domains/Shops/Extensions/ShopDomainExtensions.cs" timestamp="1567380326386" />
      <file name="C:/dev/git/selz/drachma/src/Drachma.Core/Infrastructure/Extensions/ShopImageExtension.cs" timestamp="1567389621214">
        <mark key="[" line="6" column="24" />
        <mark key="]" line="6" column="23" />
        <mark key="." line="6" column="23" />
        <mark key="^" line="6" column="23" />
      </file>
      <file name="C:/dev/git/selz/API/src/Selz.Core/Domains/Shops/Analytics/ShopAnalytics.cs" timestamp="1567380351037" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api/Controllers/ProductsController.cs" timestamp="1567387988768" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.Models/Selz.Catalog.Api.Models.csproj" timestamp="1567390091219" />
      <file name="C:/dev/git/selz/API/src/Selz.Core/Domains/Shops/Analytics/ShopTransfer.cs" timestamp="1567380343071" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/ShopTestServer.cs" timestamp="1567385760428">
        <mark key="[" line="29" column="29" />
        <mark key="]" line="29" column="43" />
        <mark key="." line="29" column="43" />
        <mark key="^" line="29" column="43" />
      </file>
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/ProductScenarios.cs" timestamp="1567385896061" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/FakeCategories.cs" timestamp="1567388443148">
        <mark key="[" line="15" column="19" />
        <mark key="]" line="15" column="27" />
        <mark key="." line="15" column="27" />
        <mark key="^" line="15" column="27" />
      </file>
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/E0E34AE9-06BD-4205-8A81-102BADAA0B49/88/64307917/ShopImageExtension.cs" timestamp="1567389294881" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.Models/BlogPosts/BlogPostResponse.cs" timestamp="1567389167519">
        <mark key="[" line="29" column="49" />
        <mark key="]" line="31" column="47" />
        <mark key="^" line="31" column="47" />
        <mark key="." line="31" column="47" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Extensions/BlogPosts/ShopImageExtension.cs" timestamp="1567390245509" />
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/Base/DataFixture.cs" timestamp="1567388366109" />
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/60CAF381-E330-419C-98A8-76F3A03FAD65/d8/2976bf9b/ActorHeaderFilter.cs" timestamp="1567378211658">
        <mark key="[" line="16" column="6" />
        <mark key="]" line="16" column="6" />
        <mark key="^" line="16" column="35" />
        <mark key="." line="16" column="6" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" timestamp="1567388372208">
        <mark key="[" line="6" column="0" />
        <mark key="]" line="6" column="0" />
        <mark key="." line="6" column="0" />
        <mark key="^" line="5" column="10" />
      </file>
    </filemarks>
    <jumps>
      <jump line="151" column="30" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/BlogService.cs" />
      <jump line="134" column="54" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/BlogService.cs" />
      <jump line="56" column="12" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Pages/PageService.cs" />
      <jump line="533" column="80" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Themes/ThemingService.cs" />
      <jump line="7" column="12" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Themes/ThemingService.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Themes/ThemingService.cs" />
      <jump line="209" column="47" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Mappings/Images/ImageResponseMapper.cs" />
      <jump line="21" column="12" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Taggings/TaggingFixture.cs" />
      <jump line="59" column="21" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/BlogPosts/BlogPostFixture.cs" />
      <jump line="54" column="35" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/BlogPosts/BlogPostFixture.cs" />
      <jump line="33" column="28" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="15" column="47" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Pages/PagesDataFactory.cs" />
      <jump line="99" column="28" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/AmazonFixture.cs" />
      <jump line="157" column="17" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="198" column="41" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="155" column="17" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="199" column="41" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="166" column="84" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="341" column="106" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="350" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="364" column="37" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="25" column="3" filename="C:/dev/git/selz/drachma/src/Drachma.Core/Domains/Pages/PageContent.cs" />
      <jump line="30" column="7" filename="C:/dev/git/selz/drachma/src/Drachma.Core/Domains/Pages/PageContent.cs" />
      <jump line="42" column="19" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="344" column="12" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="46" column="32" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/8A4F0DF9-F598-4F7A-B064-4495A181E49F/cb/6b9de3c6/TemplateContext.cs" />
      <jump line="89" column="47" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="388" column="27" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="51" column="37" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/8A4F0DF9-F598-4F7A-B064-4495A181E49F/44/b6cc3229/IfStatement.cs" />
      <jump line="37" column="29" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/8A4F0DF9-F598-4F7A-B064-4495A181E49F/0c/07e9f9be/IncludeStatement.cs" />
      <jump line="26" column="8" filename="C:/dev/git/selz/fluid/Fluid/Ast/IncludeStatement.cs" />
      <jump line="53" column="31" filename="C:/dev/git/selz/fluid/Fluid/Ast/IncludeStatement.cs" />
      <jump line="488" column="33" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" />
      <jump line="490" column="37" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" />
      <jump line="126" column="0" filename="C:/dev/git/selz/drachma/Drachma.sln" />
      <jump line="348" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/B182083D-5048-4347-8DAC-3F04C9E7EB7F/c3/e1575b7b/HtmlSanitizer.cs" />
      <jump line="1535" column="8" filename="C:/dev/git/selz/drachma/src/Drachma.Core/Constants.cs" />
      <jump line="334" column="6" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/659CD5F0-C4CE-410C-B23A-6CADD71BB76F/4b/7f96f694/Task`1.cs" />
      <jump line="619" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="63" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/4461FDA5-2211-4103-A094-109D96F6B703/d9/86648539/WebClient.cs" />
      <jump line="32" column="26" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="17" column="15" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/5CD2201B-6906-495A-84AF-5573EEA3B963/b8/593bb04b/BaseFluidTemplate`1.cs" />
      <jump line="80" column="1" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/5CD2201B-6906-495A-84AF-5573EEA3B963/b8/593bb04b/BaseFluidTemplate`1.cs" />
      <jump line="68" column="25" filename="C:/dev/git/experiment_project/Swagger/ConsoleApp2/ConsoleApp2/Program.cs" />
      <jump line="57" column="5" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/F83C56DD-FEE2-4E09-9B2F-B33BD507D91E/ed/380bcc58/BaseController.cs" />
      <jump line="77" column="15" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/F83C56DD-FEE2-4E09-9B2F-B33BD507D91E/ed/380bcc58/BaseController.cs" />
      <jump line="24" column="17" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/F83C56DD-FEE2-4E09-9B2F-B33BD507D91E/ed/380bcc58/BaseController.cs" />
      <jump line="26" column="0" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/87E8CE02-3EE4-404D-9082-6C8A5038171A/23/63847666/ModelStateEntry.cs" />
      <jump line="39" column="11" filename="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Mapping/TypeConverters.cs" />
      <jump line="65" column="82" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" />
      <jump line="48" column="15" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/PageContents/ContentBlockRequest.cs" />
      <jump line="413" column="47" filename="C:/dev/git/selz/drachma/src/Drachma.Tests/Drachma.Tests.csproj" />
      <jump line="524" column="16" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/05253EB3-5C8B-455F-BE5C-239377E26AB6/bd/fe8427b2/DateTimeOffset.cs" />
      <jump line="163" column="42" filename="C:/dev/git/selz/fluid/Fluid/Filters/MiscFilters.cs" />
      <jump line="962" column="18" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/05253EB3-5C8B-455F-BE5C-239377E26AB6/77/20c28536/DateTime.cs" />
      <jump line="56" column="91" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/77A26029-7DE4-4284-9A96-A0F2080CD8D7/b8/e8071d03/TestServer.cs" />
      <jump line="25" column="24" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="61" column="31" filename="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api/Controllers/ProductsController.cs" />
      <jump line="40" column="50" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="973" column="37" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="419" column="68" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="30" column="40" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/FluidRendering.cs" />
      <jump line="77" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/D31047D7-1DAB-4068-AA61-7DFF5983CA69/51/58cc1a2a/HtmlSanitizer.cs" />
      <jump line="457" column="23" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/76DEF016-194A-4B34-8E32-044F29ABD18E/15/f4f056c1/Task.cs" />
      <jump line="39" column="16" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/559D1F9D-2E45-46D9-8A2E-DCB8C69E6AC7/ea/9ad9a59d/HostingEnvironmentExtensions.cs" />
      <jump line="38" column="27" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/DD7BBB1E-B6CB-4178-A82C-D5136B2606B8/28/34a7ea69/HttpResponse.cs" />
      <jump line="14" column="33" filename="C:/dev/git/selz/Services.Core/Api/src/Selz.Core.Api/Extensions/HealthCheckApplicationBuilderExtensions.cs" />
      <jump line="24" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/D32DB49E-5E34-4072-9DA3-1845C03DDC3A/52/fc5df7f9/CamelCasePropertyNamesContractResolver.cs" />
      <jump line="57" column="23" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/559D1F9D-2E45-46D9-8A2E-DCB8C69E6AC7/ea/9ad9a59d/HostingEnvironmentExtensions.cs" />
      <jump line="54" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/D32DB49E-5E34-4072-9DA3-1845C03DDC3A/82/b3fe89d0/CamelCaseNamingStrategy.cs" />
      <jump line="43" column="41" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/523208DF-A789-4126-9282-D4D8C2E1CFAC/5/IServiceCollectionExtensions.cs" />
      <jump line="8" column="33" filename="C:/dev/git/selz/Services.Core/Repository/src/Selz.Core.Repository/Pagination/SlicedList/ISlicedList.cs" />
      <jump line="7" column="0" filename="C:/dev/git/selz/Services.Core/Repository/src/Selz.Core.Repository/Pagination/SlicedList/ISlicedList.cs" />
      <jump line="3180" column="29" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/140125AF-6CC4-470B-B814-7A6C4240E775/1f/f3705be4/IElasticClient.cs" />
      <jump line="2828" column="25" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/140125AF-6CC4-470B-B814-7A6C4240E775/1f/f3705be4/IElasticClient.cs" />
      <jump line="87" column="12" filename="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Controllers/ItemsController.cs" />
      <jump line="491" column="57" filename="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Controllers/ItemsController.cs" />
      <jump line="41" column="54" filename="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Controllers/ItemsController.cs" />
      <jump line="63" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Mvc/DataAnnotations/CountryAddressValidator.cs" />
      <jump line="57" column="42" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Tags/TagScenarios.cs" />
      <jump line="65" column="41" filename="C:/dev/git/selz/API/src/Selz.Core/Services/Blog/BlogService.cs" />
      <jump line="59" column="35" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7377099D-91F7-42A7-BB89-6982E405EFBF/45/LoggerMinimumLevelConfiguration.cs" />
      <jump line="216" column="24" filename="C:/dev/git/selz/API/src/Selz.Api/Controllers/BlogPostsController.cs" />
      <jump line="46" column="17" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/HomeController.cs" />
      <jump line="74" column="40" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/390DAAB7-1721-438F-B489-F680721FFC12/87/d2d138d2/OAuth2Client.cs" />
      <jump line="40" column="44" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/03A4896F-2D59-44D6-B2B4-AD42C9CEE4A5/4/IdentityServerAuthenticationExtensions.cs" />
      <jump line="30" column="40" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/427697FE-42B7-459B-A530-2FB76D339D3B/a3/ac960cc2/AuthenticationServiceCollectionExtensions.cs" />
      <jump line="21" column="36" filename="C:/dev/git/experiment_project/IdentityServer4_2/src/WebApp/Startup.cs" />
      <jump line="149" column="20" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/89E5A1BE-3FFC-4BB1-B2E6-387DC8C61499/2C/ProtocolResponse.cs" />
      <jump line="70" column="32" filename="C:/dev/git/experiment_project/IdentityServer4_2/src/IdentityServer4_2/Config.cs" />
      <jump line="49" column="42" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7208242E-8171-474E-A12D-B9D506D0C43F/5/ApiResponse.cs" />
      <jump line="90" column="61" filename="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/Base/FakeCategories.cs" />
      <jump line="200" column="35" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/F3420AE3-4FA7-4237-A6AE-294FF4B44BC7/58/7054273b/AssertionExtensions.cs" />
      <jump line="17" column="8" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/BlogPosts/BlogPostScenarios.cs" />
      <jump line="737" column="8" filename="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Extensions/StringExtensions.cs" />
      <jump line="738" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Extensions/StringExtensions.cs" />
      <jump line="35" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Shared/Selz.Shops.Core/Extensions/StringExtensions.cs" />
    </jumps>
    <registers>
      <register name="0" type="2">
        <text encoding="base64">ICAgICAgICAgICAgcmV0dXJuIEdldENsaWVudDxJU2hvcENsaWVudD4oKTsK</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">CiAgICAgICAgLy8vIDxzdW1tYXJ5PgogICAgICAgIC8vLyAgICAgRm9yY2UgYSBzdHJpbmcgVVJMIHRvIGJlIEhUVFBTCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9ImlucHV0Ij48L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz48L3JldHVybnM+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgVG9TZWN1cmVVcmwodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gIXN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSA/IGlucHV0LlJlcGxhY2UoImh0dHA6IiwgImh0dHBzOiIpIDogbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENsZWFuIHVwIGEgZmlsZSBuYW1lIGZvciB1c2UgaW4gQ09SUyB1cGxvYWRzCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBDbGVhblMzRmlsZU5hbWUodGhpcyBzdHJpbmcgZmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICB2YXIgaW52YWxpZENoYXJzID0gUmVnZXguRXNjYXBlKG5ldyBzdHJpbmcoUGF0aC5HZXRJbnZhbGlkRmlsZU5hbWVDaGFycygpKSk7CiAgICAgICAgICAgIHZhciBpbnZhbGlkUmVnU3RyID0gc3RyaW5nLkZvcm1hdChAIihbezB9XSpcLiskKXwoW3swfV0rKSIsIGludmFsaWRDaGFycyk7CiAgICAgICAgICAgIHZhciBjbGVhbmVkID0gUmVnZXguUmVwbGFjZShmaWxlTmFtZSwgaW52YWxpZFJlZ1N0ciwgIl8iKTsKCiAgICAgICAgICAgIHJldHVybiBjbGVhbmVkOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgQWRkRmlsZU5hbWVTdWZmaXgodGhpcyBzdHJpbmcgcGF0aCwgc3RyaW5nIHN1ZmZpeCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBkaXJlY3RvcnkgPSBQYXRoLkdldERpcmVjdG9yeU5hbWUocGF0aCkgPz8gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB2YXIgbmFtZSA9IFBhdGguR2V0RmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uKHBhdGgpOwogICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gUGF0aC5HZXRFeHRlbnNpb24ocGF0aCk7CiAgICAgICAgICAgIHJldHVybiBQYXRoLkNvbWJpbmUoZGlyZWN0b3J5LCBzdHJpbmcuQ29uY2F0KG5hbWUsIHN1ZmZpeCwgZXh0ZW5zaW9uKSk7CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vIFJlbW92ZSBhY2NlbnRzIGZyb20gc3RyaW5nIChlLmc6IOEg6SDtKQogICAgICAgIC8vLyBodHRwOi8vd3d3Lmxldmlib3RlbGhvLmNvbS9kZXZlbG9wbWVudC9jLXJlbW92ZS1kaWFjcml0aWNzLWFjY2VudHMtZnJvbS1hLXN0cmluZy8KICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0idHh0Ij48L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz48L3JldHVybnM+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgUmVtb3ZlQWNjZW50KHRoaXMgc3RyaW5nIHR4dCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eSh0eHQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICB0eHQgPSB0eHQuTm9ybWFsaXplKE5vcm1hbGl6YXRpb25Gb3JtLkZvcm1EKTsKICAgICAgICAgICAgdmFyIGNoYXJzID0gdHh0LldoZXJlKGMgPT4gQ2hhclVuaWNvZGVJbmZvLkdldFVuaWNvZGVDYXRlZ29yeShjKSAhPSBVbmljb2RlQ2F0ZWdvcnkuTm9uU3BhY2luZ01hcmspLlRvQXJyYXkoKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBzdHJpbmcoY2hhcnMpLk5vcm1hbGl6ZShOb3JtYWxpemF0aW9uRm9ybS5Gb3JtQyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBSZW1vdmVXaGl0ZXNwYWNlKHRoaXMgc3RyaW5nIHR4dCwgc3RyaW5nIHJlcGxhY2UgPSAiIikKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuSXNOdWxsT3JFbXB0eSh0eHQpID8gc3RyaW5nLkVtcHR5IDogUmVnZXguUmVwbGFjZSh0eHQsIEAiXHMrIiwgcmVwbGFjZSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgSXNVcHBlcih0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIC8vIENvbnNpZGVyIHN0cmluZyB0byBiZSB1cHBlcmNhc2UgaWYgaXQgaGFzIG5vIGxvd2VyY2FzZSBsZXR0ZXJzLgogICAgICAgICAgICByZXR1cm4gaW5wdXQuQWxsKHQgPT4gIWNoYXIuSXNMb3dlcih0KSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgSXNMb3dlcih0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIC8vIENvbnNpZGVyIHN0cmluZyB0byBiZSBsb3dlcmNhc2UgaWYgaXQgaGFzIG5vIHVwcGVyY2FzZSBsZXR0ZXJzLgogICAgICAgICAgICByZXR1cm4gaW5wdXQuQWxsKHQgPT4gIWNoYXIuSXNVcHBlcih0KSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBDYXBpdGFsaXplRmlyc3QodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaW5wdXQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBpbnB1dC5GaXJzdCgpLlRvU3RyaW5nKCkuVG9VcHBlcigpICsgaW5wdXQuU3Vic3RyaW5nKDEpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgTG92ZXJjYXNlRmlyc3RMZXR0ZXIodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaW5wdXQpIHx8IGNoYXIuSXNMb3dlcihpbnB1dCwgMCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGNoYXIuVG9Mb3dlckludmFyaWFudChpbnB1dFswXSkgKyBpbnB1dC5TdWJzdHJpbmcoMSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBBZGRRdWVyeVBhcmFtZXRlcih0aGlzIHN0cmluZyB1cmwsIERpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+IHBhcmFtZXRlcnMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gcGFyYW1ldGVycy5BZ2dyZWdhdGUodXJsLCAoY3VycmVudCwgcGFyYW1ldGVyKSA9PiBjdXJyZW50LkFkZFF1ZXJ5UGFyYW1ldGVyKHBhcmFtZXRlci5LZXksIHBhcmFtZXRlci5WYWx1ZS5Ub1N0cmluZygpKSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBBZGRRdWVyeVBhcmFtZXRlcih0aGlzIHN0cmluZyB1cmwsIHN0cmluZyBrZXksIHN0cmluZyB2YWx1ZSA9ICIiKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHVybCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcuRW1wdHk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShrZXkpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcGFydHMgPSB1cmwuU3BsaXQoJyMnKTsKCiAgICAgICAgICAgIHJldHVybiAkIntwYXJ0c1swXX17KHBhcnRzWzBdLkNvbnRhaW5zKCI/IikgPyAiJiIgOiAiPyIpfXtrZXl9eyghc3RyaW5nLklzTnVsbE9yRW1wdHkodmFsdWUpID8gIj0iICsgdmFsdWUgOiAiIil9eyhwYXJ0cy5MZW5ndGggPiAxID8gIiMiICsgcGFydHNbMV0gOiAiIil9IjsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENoZWNrIGlmIGEgc3RyaW5nIGlzIGEgdmFsaWQgVVJMCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InVybCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgYm9vbCBJc1ZhbGlkVXJsKHRoaXMgc3RyaW5nIHVybCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciB1cmkgPSB1cmwuVG9VcmkoKTsKICAgICAgICAgICAgcmV0dXJuIHVyaSAhPSBudWxsICYmICh1cmkuU2NoZW1lID09IFVyaS5VcmlTY2hlbWVIdHRwIHx8IHVyaS5TY2hlbWUgPT0gVXJpLlVyaVNjaGVtZUh0dHBzKTsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENvbnZlcnQgYSBzdHJpbmcgVVJMIGludG8gYSBVUkkgb2JqZWN0CiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InVybCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9ImtpbmQiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIFVyaSBUb1VyaSh0aGlzIHN0cmluZyB1cmwsIFVyaUtpbmQga2luZCA9IFVyaUtpbmQuQWJzb2x1dGUpCiAgICAgICAgewogICAgICAgICAgICBVcmkuVHJ5Q3JlYXRlKHVybCwga2luZCwgb3V0IHZhciB1cmkpOwogICAgICAgICAgICByZXR1cm4gdXJpOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PgogICAgICAgIC8vLyAgICAgR2V0IGEgbGlzdCBvZiBVUkwgd2l0aC93aXRob3V0IEhUVFBTCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InVybCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxzdHJpbmc+IFRvVXJsTGlzdCh0aGlzIHN0cmluZyB1cmwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkodXJsKSB8fCAhdXJsLklzVmFsaWRVcmwoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBuZXcgTGlzdDxzdHJpbmc+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5ldyBVcmlCdWlsZGVyKHVybCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBTY2hlbWUgPSBVcmkuVXJpU2NoZW1lSHR0cHMsCiAgICAgICAgICAgICAgICAgICAgUG9ydCA9IC0xIC8vIFVzZSBkZWZhdWx0IGZvciBIVFRQUwogICAgICAgICAgICAgICAgfS5Ub1N0cmluZygpLAogICAgICAgICAgICAgICAgbmV3IFVyaUJ1aWxkZXIodXJsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNjaGVtZSA9IFVyaS5VcmlTY2hlbWVIdHRwLAogICAgICAgICAgICAgICAgICAgIFBvcnQgPSAtMSAvLyBVc2UgZGVmYXVsdCBmb3IgSFRUUAogICAgICAgICAgICAgICAgfS5Ub1N0cmluZygpCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBWZXJpZnkgaWYgYSBVUkwgaXMgInRydXN0ZWQiCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InVybCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgYm9vbCBJc1RydXN0ZWRVcmwodGhpcyBzdHJpbmcgdXJsKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHVybCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gVW5lc2NhcGUgaXQKICAgICAgICAgICAgdXJsID0gVXJpLlVuZXNjYXBlRGF0YVN0cmluZyh1cmwpOwoKICAgICAgICAgICAgLy8gVHJ5IHBhcnNlIGl0IGFzIGEgVVJJCiAgICAgICAgICAgIGlmICghVXJpLlRyeUNyZWF0ZSh1cmwsIFVyaUtpbmQuUmVsYXRpdmVPckFic29sdXRlLCBvdXQgdmFyIHVyaSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gUmVsYXRpdmUgVVJMCiAgICAgICAgICAgIGlmICghdXJpLklzQWJzb2x1dGVVcmkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJcyBsb2NhbCBkb21haW4KICAgICAgICAgICAgaWYgKHVyaS5Jc0xvb3BiYWNrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2VlIGlmIGl0J3MgYSBzdWIgZG9tYWluIG9yIHVzaW5nIHNlbHogZG9tYWluCiAgICAgICAgICAgIHZhciBpbmZvID0gdXJpLkdldERvbWFpbkluZm9ybWF0aW9uKCk7CgogICAgICAgICAgICByZXR1cm4gaW5mby5Eb21haW5UeXBlID09IERvbWFpblR5cGUuU2VsekRvbWFpbiB8fAogICAgICAgICAgICAgICAgICAgaW5mby5Eb21haW5UeXBlID09IERvbWFpblR5cGUuU3ViRG9tYWluIHx8CiAgICAgICAgICAgICAgICAgICBpbmZvLkRvbWFpblR5cGUgPT0gRG9tYWluVHlwZS5JWmV0dGxlRG9tYWluOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PgogICAgICAgIC8vLyAgICAgU2FuaXRpemUgYSB1cmwgdG8gcHJldmVudCBzZWN1cml0eSBpc3N1ZXMKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0idXJsIj48L3BhcmFtPgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iZmFsbGJhY2siPjwvcGFyYW0+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJyZXF1ZXN0Ij48L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz48L3JldHVybnM+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgU2FuaXRpemVSZXR1cm5VcmwodGhpcyBzdHJpbmcgdXJsLCBzdHJpbmcgZmFsbGJhY2sgPSBudWxsLCBIdHRwUmVxdWVzdEJhc2UgcmVxdWVzdCA9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICAvLyBJZiB0cnVzdGVkLCBlYXN5Li4uCiAgICAgICAgICAgIGlmICh1cmwuSXNUcnVzdGVkVXJsKCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBVcmkuVW5lc2NhcGVEYXRhU3RyaW5nKHVybCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IGdldCB0aGUgcmVmZXJyZXIsIGJhaWwKICAgICAgICAgICAgaWYgKHJlcXVlc3QgPT0gbnVsbCB8fCByZXF1ZXN0LlVybFJlZmVycmVyID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxsYmFjazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gVXNlIHRoZSByZWZlcnJlciBpZiBpdCdzIHRydXN0ZWQKICAgICAgICAgICAgLy8gUmVTaGFycGVyIGRpc2FibGUgb25jZSBDb252ZXJ0SWZTdGF0ZW1lbnRUb1JldHVyblN0YXRlbWVudAogICAgICAgICAgICBpZiAocmVxdWVzdC5VcmxSZWZlcnJlci5Ub1N0cmluZygpLklzVHJ1c3RlZFVybCgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5VcmxSZWZlcnJlci5Ub1N0cmluZygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBWZXJpZnkgaWYgVVJMIGlzIFNTUkYgKChTZXJ2ZXIgU2lkZSBSZXF1ZXN0IEZvcmdlcnkpIFNhZmUgLSBodHRwczovL3RyZWxsby5jb20vYy9nMHd3Tlk5QgogICAgICAgIC8vLyA8L3N1bW1hcnk+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJ1cmwiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgSXNVcmxTc3JmU2FmZSh0aGlzIHN0cmluZyB1cmwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoIVVyaS5UcnlDcmVhdGUodXJsLCBVcmlLaW5kLkFic29sdXRlLCBvdXQgdmFyIHVyaSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vQ2Fubm90IGNyZWF0ZSBhbiBVcmkKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gV2Ugc2hvdWxkbid0IGFjY2VwdCBhbnkgSVAsIHNwZWNpYWxseSB0aGUgSVAgbGlzdGVkIGJlbG93CiAgICAgICAgICAgIC8vIDEyNy4wLjAuMQogICAgICAgICAgICAvLyAxNjkuMjU0LjE3MC4yCiAgICAgICAgICAgIC8vIDE2OS4yNTQuMTY5LjI1NAogICAgICAgICAgICBpZiAodXJpLkhvc3ROYW1lVHlwZSAhPSBVcmlIb3N0TmFtZVR5cGUuRG5zKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAhc3RyaW5nLkVxdWFscyh1cmkuSG9zdCwgImxvY2FsaG9zdCIsIFN0cmluZ0NvbXBhcmlzb24uSW52YXJpYW50Q3VsdHVyZUlnbm9yZUNhc2UpOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PgogICAgICAgIC8vLyAgICAgVmVyaWZ5IGEgc3RyaW5nIGlzIHZhbGlkIEpTT04KICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iaW5wdXQiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgSXNWYWxpZEpzb24odGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICBpbnB1dCA9IGlucHV0LlRyaW0oKTsKCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICghaW5wdXQuU3RhcnRzV2l0aCgieyIpIHx8ICFpbnB1dC5FbmRzV2l0aCgifSIpKSAmJiAvLyBPYmplY3QKICAgICAgICAgICAgICAgICghaW5wdXQuU3RhcnRzV2l0aCgiWyIpIHx8ICFpbnB1dC5FbmRzV2l0aCgiXSIpKSAvLyBBcnJheQogICAgICAgICAgICApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIEpUb2tlbi5QYXJzZShpbnB1dCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBFeGNlcHRpb24gaW4gcGFyc2luZyBKU09OCiAgICAgICAgICAgIGNhdGNoIChKc29uUmVhZGVyRXhjZXB0aW9uIGpleCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoamV4Lk1lc3NhZ2UpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFNvbWUgb3RoZXIgZXhjZXB0aW9uCiAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZXgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKGV4LlRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBHZXQgYSBUd2l0dGVyIHVzZXIgZnJvbSBhIFVSTAogICAgICAgIC8vLyA8L3N1bW1hcnk+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJ1cmwiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBHZXRUd2l0dGVyVXNlcih0aGlzIHN0cmluZyB1cmwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkodXJsKSB8fCAhdXJsLklzVmFsaWRVcmwoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBSZWdleC5NYXRjaCh1cmwsIENvbnN0YW50cy5SZWdleC5Ud2l0dGVyVXNlck5hbWUpLkdyb3Vwc1sibmFtZSJdLlZhbHVlOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgVG9IZXhDb2xvcih0aGlzIHN0cmluZyBjb2xvciwgc3RyaW5nIGZhbGxiYWNrID0gIlwiXCIiKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGNvbG9yKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY29sb3IuU3RhcnRzV2l0aCgiIyIpICYmIGNvbG9yLkxlbmd0aCA9PSA0IHx8IGNvbG9yLkxlbmd0aCA9PSA3KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IuVG9Mb3dlcigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY29sb3IuTGVuZ3RoID09IDMgfHwgY29sb3IuTGVuZ3RoID09IDYpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAkIiN7Y29sb3IuVG9Mb3dlcigpfSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBjb2xvcjsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENvbnZlcnQgYSBmb250IG5hbWUgdG8gYSBmb250IHN0YWNrIGZvciB1c2UgaW4gdGhlIFVJCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InZhbHVlIj48L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz48L3JldHVybnM+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgVG9Gb250U3RhY2sodGhpcyBzdHJpbmcgdmFsdWUpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkodmFsdWUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBzdHJpbmcgZW1vamlTdGFjayA9ICInQXBwbGUgQ29sb3IgRW1vamknLCAnU2Vnb2UgVUkgRW1vamknLCAnU2Vnb2UgVUkgU3ltYm9sJyI7CgogICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLlRvTG93ZXIoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gU2FucyBTZXJpZiBGb250cwogICAgICAgICAgICAgICAgY2FzZSAiYXJpYWwiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIkFyaWFsLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmLCB7ZW1vamlTdGFja30iOwoKICAgICAgICAgICAgICAgIGNhc2UgImF2ZW5pciI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQiQXZlbmlyLCAnQXZlbmlyIE5leHQnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmLCB7ZW1vamlTdGFja30iOwoKICAgICAgICAgICAgICAgIGNhc2UgImZ1dHVyYSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQiRnV0dXJhLCAnVHJlYnVjaGV0IE1TJywgc2Fucy1zZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJoZWx2ZXRpY2EiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIidIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWYsIHtlbW9qaVN0YWNrfSI7CgogICAgICAgICAgICAgICAgY2FzZSAibHVjaWRhIGdyYW5kZSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQiJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgU2FucycsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJzYW4gZnJhbmNpc2NvIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCJzeXN0ZW0tdWksIEJsaW5rTWFjU3lzdGVtRm9udCwgLWFwcGxlLXN5c3RlbSwgJ1NlZ29lIFVJJywgc2Fucy1zZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJzZWdvZSB1aSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQiJ1NlZ29lIFVJJywgRnJ1dGlnZXIsICdGcnV0aWdlciBMaW5vdHlwZScsICdEZWphdnUgU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWYsIHtlbW9qaVN0YWNrfSI7CgogICAgICAgICAgICAgICAgY2FzZSAidGFob21hIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCJUYWhvbWEsIFZlcmRhbmEsIFNlZ29lLCBzYW5zLXNlcmlmLCB7ZW1vamlTdGFja30iOwoKICAgICAgICAgICAgICAgIGNhc2UgInZlcmRhbmEiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIlZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICAvLyBTZXJpZiBGb250cwogICAgICAgICAgICAgICAgY2FzZSAiYmFza2VydmlsbGUiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIkJhc2tlcnZpbGxlLCAnQmFza2VydmlsbGUgT2xkIEZhY2UnLCAnSG9lZmxlciBUZXh0JywgR2FyYW1vbmQsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJjYW1icmlhIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCJDYW1icmlhLCBHZW9yZ2lhLCBzZXJpZiwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJnZW9yZ2lhIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCJHZW9yZ2lhLCBUaW1lcywgJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmLCB7ZW1vamlTdGFja30iOwoKICAgICAgICAgICAgICAgIGNhc2UgImx1Y2lkYSBicmlnaHQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIidMdWNpZGEgQnJpZ2h0JywgR2VvcmdpYSwgc2VyaWYsIHtlbW9qaVN0YWNrfSI7CgogICAgICAgICAgICAgICAgY2FzZSAicGFsYXRpbm8iOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIlBhbGF0aW5vLCAnUGFsYXRpbm8gTGlub3R5cGUnLCAnUGFsYXRpbm8gTFQgU1REJywgJ0Jvb2sgQW50aXF1YScsIEdlb3JnaWEsIHNlcmlmLCB7ZW1vamlTdGFja30iOwoKICAgICAgICAgICAgICAgIGNhc2UgInRpbWVzIG5ldyByb21hbiI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQiVGltZXNOZXdSb21hbiwgJ1RpbWVzIE5ldyBSb21hbicsIFRpbWVzLCBCYXNrZXJ2aWxsZSwgR2VvcmdpYSwgc2VyaWYsIHtlbW9qaVN0YWNrfSI7CgogICAgICAgICAgICAgICAgLy8gTW9ub3NwYWNlZAogICAgICAgICAgICAgICAgY2FzZSAiY29uc29sYXMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIkNvbnNvbGFzLCBtb25hY28sIG1vbm9zcGFjZSwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBjYXNlICJtb25hY28iOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkIm1vbmFjbywgQ29uc29sYXMsICdMdWNpZGEgQ29uc29sZScsIG1vbm9zcGFjZSwge2Vtb2ppU3RhY2t9IjsKCiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgSXNIZXhDb2xvcih0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdleChDb25zdGFudHMuUmVnZXguSGV4Q29sb3IpOwoKICAgICAgICAgICAgcmV0dXJuIHJlZ2V4LklzTWF0Y2goaW5wdXQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgRGFya2VuKHRoaXMgc3RyaW5nIGlucHV0LCBpbnQgcGVyY2VudCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICghSXNIZXhDb2xvcihpbnB1dCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvclRyYW5zbGF0b3IuRnJvbUh0bWwoaW5wdXQpOwoKICAgICAgICAgICAgcmV0dXJuIGNvbG9yLkRhcmtlbihwZXJjZW50KS5Ub0hleCgpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgTGlnaHRlbih0aGlzIHN0cmluZyBpbnB1dCwgaW50IHBlcmNlbnQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoIUlzSGV4Q29sb3IoaW5wdXQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3JUcmFuc2xhdG9yLkZyb21IdG1sKGlucHV0KTsKCiAgICAgICAgICAgIHJldHVybiBjb2xvci5MaWdodGVuKHBlcmNlbnQpLlRvSGV4KCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIElFbnVtZXJhYmxlPHN0cmluZz4gU3BsaXQodGhpcyBzdHJpbmcgaW5wdXQsIGludCBjaHVua1NpemUpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gRW51bWVyYWJsZS5SYW5nZSgwLCBpbnB1dC5MZW5ndGggLyBjaHVua1NpemUpLlNlbGVjdChpID0+IGlucHV0LlN1YnN0cmluZyhpICogY2h1bmtTaXplLCBjaHVua1NpemUpKTsKICAgICAgICB9CiAgICB9Cg==</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">ICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBHZXQgYW4gZW1haWwgYXNzZXQgVVJMCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InBhdGgiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBUb0VtYWlsQXNzZXRVcmwodGhpcyBzdHJpbmcgcGF0aCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAkIntDb25zdGFudHMuRW1haWxTZXR0aW5ncy5TZWx6LkNkbkJhc2V9e3BhdGh9IjsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIEdldCB0aGUgZmlyc3Qgc2V2ZXJhbCB3b3JkcyBmcm9tIHRoZSBzdW1tYXJ5LgogICAgICAgIC8vLyA8L3N1bW1hcnk+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgRmlyc3RXb3Jkcyh0aGlzIHN0cmluZyBpbnB1dCwgaW50IG51bWJlcldvcmRzKQogICAgICAgIHsKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiB3b3JkcyB3ZSBzdGlsbCB3YW50IHRvIGRpc3BsYXkuCiAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSBudW1iZXJXb3JkczsKICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBlbnRpcmUgc3VtbWFyeS4KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQuTGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IHdvcmRzIG9uIGEgc3BhY2UuCiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0W2ldID09ICcgJykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLS07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIG1vcmUgd29yZHMgdG8gZGlzcGxheSwgcmV0dXJuIHRoZSBzdWJzdHJpbmcuCiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRzID09IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQuU3Vic3RyaW5nKDAsIGkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBMb2cgdGhlIGVycm9yLgogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgU2hvcnRlbih0aGlzIHN0cmluZyBpbnB1dCwgaW50IGxlbmd0aCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShpbnB1dCkgfHwgaW5wdXQuTGVuZ3RoIDwgbGVuZ3RoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBuZXdTdHJpbmcgPSBpbnB1dC5TdWJzdHJpbmcoMCwgbGVuZ3RoKTsKICAgICAgICAgICAgdmFyIGxhc3RTcGFjZSA9IG5ld1N0cmluZy5MYXN0SW5kZXhPZigiICIsIFN0cmluZ0NvbXBhcmlzb24uSW52YXJpYW50Q3VsdHVyZSk7CgogICAgICAgICAgICByZXR1cm4gJCJ7KGxhc3RTcGFjZSAhPSAtMSA/IG5ld1N0cmluZy5TdWJzdHJpbmcoMCwgbGFzdFNwYWNlKSA6IG5ld1N0cmluZyl9IjsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIEdldExhc3QodGhpcyBzdHJpbmcgc291cmNlLCBpbnQgdGFpbExlbmd0aCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICh0YWlsTGVuZ3RoID49IHNvdXJjZS5MZW5ndGgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBzb3VyY2UuU3Vic3RyaW5nKHNvdXJjZS5MZW5ndGggLSB0YWlsTGVuZ3RoKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgaW50IFdvcmRDb3VudCh0aGlzIHN0cmluZyBzb3VyY2UpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoc291cmNlKSkgcmV0dXJuIDA7CgogICAgICAgICAgICBjaGFyW10gZGVsaW1pdGVycyA9IHsnICcsICdccicsICdcbid9OwoKICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5TcGxpdChkZWxpbWl0ZXJzLCBTdHJpbmdTcGxpdE9wdGlvbnMuUmVtb3ZlRW1wdHlFbnRyaWVzKS5MZW5ndGg7CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBDYWxjdWxhdGUgaG93IGxvbmcgaXQnbGwgdGFrZSB0byByZWFkIGEgc3RyaW5nIGluIG1pbnV0ZXMKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0idGV4dENvbnRlbnQiPjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBUb1JlYWRUaW1lKHRoaXMgc3RyaW5nIHRleHRDb250ZW50KQogICAgICAgIHsKICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSAoaW50KSBNYXRoLlJvdW5kKChkb3VibGUpIHRleHRDb250ZW50LldvcmRDb3VudCgpIC8gMjAwKTsKICAgICAgICAgICAgdmFyIHJlYWRUaW1lID0gc3RyaW5nLkZvcm1hdChUZXh0cy5UaW1lX0Fib3V0X01pbnV0ZXMsIG1pbnV0ZXMpOwoKICAgICAgICAgICAgaWYgKG1pbnV0ZXMgPCAxKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZWFkVGltZSA9IFRleHRzLlRpbWVfTGVzc19UaGFuX01pbnV0ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChtaW51dGVzID09IDEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlYWRUaW1lID0gVGV4dHMuVGltZV9BYm91dF9NaW51dGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZWFkVGltZTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFJlbW92ZUxvY2FsRnJvbURvbWFpbih0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShpbnB1dCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGlucHV0LlJlcGxhY2UoInNlbHouY29tL2ZyIiwgInNlbHouY29tIikKICAgICAgICAgICAgICAgIC5SZXBsYWNlKCJzZWx6LmNvbS9lcyIsICJzZWx6LmNvbSIpCiAgICAgICAgICAgICAgICAuUmVwbGFjZSgic2Vsei5jb20vcHQiLCAic2Vsei5jb20iKQogICAgICAgICAgICAgICAgLlJlcGxhY2UoInNlbHouY29tL2RlIiwgInNlbHouY29tIik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBSZXBsYWNlTGFzdE9jY3VycmVuY2UodGhpcyBzdHJpbmcgaW5wdXQsIHN0cmluZyBmaW5kLCBzdHJpbmcgcmVwbGFjZSkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBwbGFjZSA9IGlucHV0Lkxhc3RJbmRleE9mKGZpbmQsIFN0cmluZ0NvbXBhcmlzb24uT3JkaW5hbCk7CgogICAgICAgICAgICBpZiAocGxhY2UgPT0gLTEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGlucHV0LlJlbW92ZShwbGFjZSwgZmluZC5MZW5ndGgpLkluc2VydChwbGFjZSwgcmVwbGFjZSk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICAvLyBDb252ZXJ0cyAiQ2FtZWxDYXNlIiB0byAiQ2FtZWwgQ2FzZSIKICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81Nzk2NDI3LzExOTEzMTkKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBTcGxpdENhbWVsQ2FzZSh0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShpbnB1dCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIFJlZ2V4LlJlcGxhY2UoaW5wdXQsICIoXFxCW0EtWl0pIiwgIiAkMSIpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmdbXSBTcGxpdExpbmVzKHRoaXMgc3RyaW5nIGlucHV0LCBib29sIHJlbW92ZUVtcHR5ID0gZmFsc2UpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaW5wdXQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSByZW1vdmVFbXB0eSA/IFN0cmluZ1NwbGl0T3B0aW9ucy5SZW1vdmVFbXB0eUVudHJpZXMgOiBTdHJpbmdTcGxpdE9wdGlvbnMuTm9uZTsKICAgICAgICAgICAgcmV0dXJuIGlucHV0LlNwbGl0KG5ld1tdIHsiXHJcbiIsICJcciIsICJcbiJ9LCBvcHRpb25zKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nW10gR2V0TGluZXModGhpcyBzdHJpbmdbXSBpbnB1dCwgaW50IHN0YXJ0ID0gMCwgaW50IGVuZCA9IC0xKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKGlucHV0ID09IG51bGwgfHwgIWlucHV0LkFueSgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVuZCA9PSAtMSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW5kID0gaW5wdXQuTGVuZ3RoOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaW5wdXQuVG9MaXN0KCkuU2tpcChzdGFydCkuVGFrZShlbmQgLSBzdGFydCkuVG9BcnJheSgpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBib29sIEhhc1VybFNjaGVtZSh0aGlzIHN0cmluZyB1cmwpCiAgICAgICAgewogICAgICAgICAgICBjb25zdCBTdHJpbmdDb21wYXJpc29uIGNvbXBhcmlzb24gPSBTdHJpbmdDb21wYXJpc29uLkludmFyaWFudEN1bHR1cmVJZ25vcmVDYXNlOwoKICAgICAgICAgICAgcmV0dXJuIHVybC5TdGFydHNXaXRoKCJodHRwOi8vIiwgY29tcGFyaXNvbikgfHwgdXJsLlN0YXJ0c1dpdGgoImh0dHBzOi8vIiwgY29tcGFyaXNvbik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBBZGRVcmxTY2hlbWUodGhpcyBzdHJpbmcgdXJsLCBib29sIHNlY3VyZSA9IGZhbHNlKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHVybCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXVybC5IYXNVcmxTY2hlbWUoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdXJsID0gJCJodHRweyhzZWN1cmUgPyAicyIgOiAiIil9Oi8ve3VybH0iOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgR2V0Rmlyc3RXb3JkKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5FbXB0eTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHdvcmRzID0gaW5wdXQuU3BsaXQoJyAnKTsKCiAgICAgICAgICAgIHJldHVybiB3b3Jkcy5GaXJzdCgpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgR2V0TGFzdFdvcmQodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaW5wdXQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgd29yZHMgPSBpbnB1dC5TcGxpdCgnICcpOwoKICAgICAgICAgICAgaWYgKHdvcmRzLkxlbmd0aCA8PSAxKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gd29yZHMuTGFzdCgpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgR2V0Rmlyc3ROYW1lKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIEdldEZpcnN0V29yZChpbnB1dCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBHZXRMYXN0TmFtZSh0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBHZXRMYXN0V29yZChpbnB1dCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBUb01hc2tlZEVtYWlsQWRkcmVzcyh0aGlzIHN0cmluZyBlbWFpbEFkZHJlc3MpCiAgICAgICAgewogICAgICAgICAgICBjb25zdCBzdHJpbmcgc2VydmVyID0gIkAmaGVsbGlwOy5jb20iOwoKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGVtYWlsQWRkcmVzcykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAkInVzZXJ7c2VydmVyfSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgZW1haWwgPSBuZXcgTWFpbEFkZHJlc3MoZW1haWxBZGRyZXNzKTsKICAgICAgICAgICAgICAgIHJldHVybiAkIntlbWFpbC5Vc2VyfXtzZXJ2ZXJ9IjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gJCJ1c2Vye3NlcnZlcn0iOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEdldE5hbWVzRnJvbUVtYWlsKHRoaXMgc3RyaW5nIGVtYWlsQWRkcmVzcykKICAgICAgICB7CiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9IGVtYWlsQWRkcmVzcy5Db250YWlucygnQCcpCiAgICAgICAgICAgICAgICA/IGVtYWlsQWRkcmVzcy5TcGxpdCgnQCcpWzBdCiAgICAgICAgICAgICAgICA6IGVtYWlsQWRkcmVzczsKCiAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBHZXRGaXJzdFdvcmQodXNlck5hbWUpOwogICAgICAgICAgICB2YXIgbGFzdE5hbWUgPSBzdHJpbmcuSXNOdWxsT3JFbXB0eShmaXJzdE5hbWUpID8gc3RyaW5nLkVtcHR5IDogdXNlck5hbWUuUmVwbGFjZShmaXJzdE5hbWUsICIiKS5UcmltKCk7CgogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkobGFzdE5hbWUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsYXN0TmFtZSA9IGZpcnN0TmFtZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG5ld1tdIHtmaXJzdE5hbWUsIGxhc3ROYW1lfTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgYm9vbCBJc1ZhbGlkRW1haWwodGhpcyBzdHJpbmcgZW1haWwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoZW1haWwpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgYWRkcmVzcyA9IG5ldyBNYWlsQWRkcmVzcyhlbWFpbCk7CiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzcy5BZGRyZXNzID09IGVtYWlsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBTdHJlYW0gVG9TdHJlYW0odGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICB2YXIgc3RyZWFtID0gbmV3IE1lbW9yeVN0cmVhbSgpOwogICAgICAgICAgICB2YXIgd3JpdGVyID0gbmV3IFN0cmVhbVdyaXRlcihzdHJlYW0pOwoKICAgICAgICAgICAgd3JpdGVyLldyaXRlKGlucHV0KTsKICAgICAgICAgICAgd3JpdGVyLkZsdXNoKCk7CiAgICAgICAgICAgIHN0cmVhbS5Qb3NpdGlvbiA9IDA7CiAgICAgICAgICAgIHN0cmVhbS5TZWVrKDAsIFNlZWtPcmlnaW4uQmVnaW4pOwoKICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgU3RyZWFtIFRvR3ppcFN0cmVhbSh0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBzdHJlYW0gPSBuZXcgTWVtb3J5U3RyZWFtKCk7CgogICAgICAgICAgICB1c2luZyAodmFyIHppcENzcyA9IG5ldyBHWmlwU3RyZWFtKHN0cmVhbSwgQ29tcHJlc3Npb25Nb2RlLkNvbXByZXNzLCB0cnVlKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IEVuY29kaW5nLlVURjguR2V0Qnl0ZXMoaW5wdXQpOwogICAgICAgICAgICAgICAgemlwQ3NzLldyaXRlKGJ1ZmZlciwgMCwgYnVmZmVyLkxlbmd0aCk7CiAgICAgICAgICAgICAgICB6aXBDc3MuRmx1c2goKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc3RyZWFtLlBvc2l0aW9uID0gMDsKICAgICAgICAgICAgc3RyZWFtLlNlZWsoMCwgU2Vla09yaWdpbi5CZWdpbik7CgogICAgICAgICAgICByZXR1cm4gc3RyZWFtOwogICAgICAgIH0KCiAgICAgICAgLy9Gcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2Jjb25lcnkvc3VnYXIvYmxvYi9tYXN0ZXIvU3RyaW5ncy5jcwogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBjaGFycyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgYSBzdHJpbmcuCiAgICAgICAgLy8vIDwvc3VtbWFyeT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InNvdXJjZVN0cmluZyI+VGhlIHNvdXJjZSBzdHJpbmcuPC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InJlbW92ZUZyb21CZWdpbm5pbmciPlRoZSByZW1vdmUgZnJvbSBiZWdpbm5pbmcuPC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIENsaXAodGhpcyBzdHJpbmcgc291cmNlU3RyaW5nLCBpbnQgcmVtb3ZlRnJvbUJlZ2lubmluZykKICAgICAgICB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzb3VyY2VTdHJpbmc7CgogICAgICAgICAgICBpZiAoc291cmNlU3RyaW5nLkxlbmd0aCA+IHJlbW92ZUZyb21CZWdpbm5pbmcpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5SZW1vdmUoMCwgcmVtb3ZlRnJvbUJlZ2lubmluZyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICAvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2Jjb25lcnkvc3VnYXIvYmxvYi9tYXN0ZXIvU3RyaW5ncy5jcwogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIFJlbW92ZXMgY2hhcnMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGEgc3RyaW5nLCB1cCB0byB0aGUgc3BlY2lmaWVkIHN0cmluZwogICAgICAgIC8vLyA8L3N1bW1hcnk+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJzb3VyY2VTdHJpbmciPlRoZSBzb3VyY2Ugc3RyaW5nLjwvcGFyYW0+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJyZW1vdmVVcFRvIj5UaGUgcmVtb3ZlIHVwIHRvLjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBDbGlwKHRoaXMgc3RyaW5nIHNvdXJjZVN0cmluZywgc3RyaW5nIHJlbW92ZVVwVG8pCiAgICAgICAgewogICAgICAgICAgICB2YXIgcmVtb3ZlRnJvbUJlZ2lubmluZyA9IHNvdXJjZVN0cmluZy5JbmRleE9mKHJlbW92ZVVwVG8sIFN0cmluZ0NvbXBhcmlzb24uSW52YXJpYW50Q3VsdHVyZSk7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzb3VyY2VTdHJpbmc7CgogICAgICAgICAgICBpZiAoc291cmNlU3RyaW5nLkxlbmd0aCA+IHJlbW92ZUZyb21CZWdpbm5pbmcgJiYgcmVtb3ZlRnJvbUJlZ2lubmluZyA+IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5SZW1vdmUoMCwgcmVtb3ZlRnJvbUJlZ2lubmluZyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdElkIFRvT2JqZWN0SWQodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0SWQuVHJ5UGFyc2UoaW5wdXQsIG91dCB2YXIgb2JqZWN0SWQpID8gb2JqZWN0SWQgOiBPYmplY3RJZC5FbXB0eTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFJlbW92ZU5ld0xpbmVzKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIFJlZ2V4LlJlcGxhY2UoaW5wdXQsIEAiXHR8XG58XHIiLCBzdHJpbmcuRW1wdHkpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgTmxUb0JyKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSA/IHN0cmluZy5FbXB0eSA6IFJlZ2V4LlJlcGxhY2UoaW5wdXQsIEAiXHJcbj98XG4iLCAiPGJyPiIpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgRGVjb2RlU3BhY2VzKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSA/IGlucHV0IDogaW5wdXQuUmVwbGFjZSgiJm5ic3A7IiwgIiAiKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFJlbW92ZUNvbW1lbnRzKHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgY29uc3Qgc3RyaW5nIGJsb2NrQ29tbWVudHMgPSBAIi9cKiguKj8pXCovIjsKICAgICAgICAgICAgY29uc3Qgc3RyaW5nIGxpbmVDb21tZW50cyA9IEAiLy8oLio/KVxyP1xuIjsKICAgICAgICAgICAgY29uc3Qgc3RyaW5nIHN0cmluZ3MgPSBAIiIiKChcXFteXG5dfFteIiJcbl0pKikiIiI7CiAgICAgICAgICAgIGNvbnN0IHN0cmluZyB2ZXJiYXRpbVN0cmluZ3MgPSBAIkAoIiJbXiIiXSoiIikrIjsKICAgICAgICAgICAgdmFyIHJlZ2V4ID0gJCJ7YmxvY2tDb21tZW50c318e2xpbmVDb21tZW50c318e3N0cmluZ3N9fHt2ZXJiYXRpbVN0cmluZ3N9IjsKCiAgICAgICAgICAgIHJldHVybiBSZWdleC5SZXBsYWNlKGlucHV0LCByZWdleCwgbWUgPT4KICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAobWUuVmFsdWUuU3RhcnRzV2l0aCgiLyoiKSB8fCBtZS5WYWx1ZS5TdGFydHNXaXRoKCIvLyIpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lLlZhbHVlLlN0YXJ0c1dpdGgoIi8vIikgPyBTeXN0ZW0uRW52aXJvbm1lbnQuTmV3TGluZSA6ICIiOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgbGl0ZXJhbCBzdHJpbmdzCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lLlZhbHVlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFJlZ2V4T3B0aW9ucy5TaW5nbGVsaW5lKTsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENvbnZlcnQgSFRNTCBpbnRvIGEgdGV4dCBzdHJpbmcKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iaHRtbCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InRyaW1OZXdMaW5lcyI+UmVtb3ZlIG5ldyBsaW5lcz88L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz48L3JldHVybnM+CiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgU3RyaXBIdG1sKHRoaXMgc3RyaW5nIGh0bWwsIGJvb2wgdHJpbU5ld0xpbmVzID0gZmFsc2UpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaHRtbCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcuRW1wdHk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gdXNlIEVudmlyb25tZW50IG5ldyBsaW5lCiAgICAgICAgICAgIHZhciBuZXdMaW5lID0gU3lzdGVtLkVudmlyb25tZW50Lk5ld0xpbmUgKyBTeXN0ZW0uRW52aXJvbm1lbnQuTmV3TGluZTsKICAgICAgICAgICAgaWYgKHRyaW1OZXdMaW5lcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmV3TGluZSA9ICIgIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBIVE1MIGRvY3VtZW50CiAgICAgICAgICAgIHZhciBodG1sRG9jID0gbmV3IEh0bWxEb2N1bWVudCgpOwoKICAgICAgICAgICAgLy8gTG9hZCBjb250ZW50IGludG8gZG9jdW1lbnQKICAgICAgICAgICAgaHRtbERvYy5Mb2FkSHRtbChodG1sKTsKCiAgICAgICAgICAgIC8vIEJhaWwgaWYgZXJyb3JzCiAgICAgICAgICAgIGlmIChodG1sRG9jLlBhcnNlRXJyb3JzLkFueSgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSZXBsYWNlIG11bHRpcGxlIGxpbmUgYnJlYWtzCiAgICAgICAgICAgIHZhciB0ZXh0ID0gUmVnZXguUmVwbGFjZShodG1sRG9jLkRvY3VtZW50Tm9kZS5Jbm5lclRleHQsIEAiKFxyXG4pezIsfSIsIG5ld0xpbmUpOwoKICAgICAgICAgICAgLy8gUmVwbGFjZSBhbnkgd2VpcmQgZW5jb2RlZCBIVE1MIGNyYXAgbGlrZSAmbmJzcDsgKGEgc3BhY2UpCiAgICAgICAgICAgIHRleHQgPSBXZWJVdGlsaXR5Lkh0bWxEZWNvZGUodGV4dCk7CgogICAgICAgICAgICAvLyBSZXBsYWNlIGRvdWJsZSBzcGFjZXMsIHRhYnMgZXRjCiAgICAgICAgICAgIGlmICh0cmltTmV3TGluZXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQgPSBSZWdleC5SZXBsYWNlKHRleHQsIEAiXHMrIiwgIiAiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBTdHJpcCBIVE1MIHRhZ3MKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iaHRtbCI+PC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9ImFsbG93VGFncyI+PC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFN0cmlwSHRtbCh0aGlzIHN0cmluZyBodG1sLCBwYXJhbXMgc3RyaW5nW10gYWxsb3dUYWdzKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGh0bWwpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gbG9hZCBhcyBodG1sCiAgICAgICAgICAgIHZhciBodG1sRG9jID0gbmV3IEh0bWxEb2N1bWVudCgpOwogICAgICAgICAgICBodG1sRG9jLkxvYWRIdG1sKGh0bWwpOwoKICAgICAgICAgICAgaWYgKGh0bWxEb2MuUGFyc2VFcnJvcnMuQW55KCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSZW1vdmUgbm90IGFsbG93aW5nIHRhZ3MKICAgICAgICAgICAgSHRtbE5vZGUgTmV4dE5vZGUoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbERvYy5Eb2N1bWVudE5vZGUuRGVzY2VuZGFudHMoKS5GaXJzdE9yRGVmYXVsdChkZXNjZW5kYW50ID0+IGRlc2NlbmRhbnQuTm9kZVR5cGUgPT0gSHRtbE5vZGVUeXBlLkVsZW1lbnQgJiYgIWFsbG93VGFncy5Db250YWlucyhkZXNjZW5kYW50Lk5hbWUpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJlbW92ZU5vZGUgPSBOZXh0Tm9kZSgpOwoKICAgICAgICAgICAgd2hpbGUgKHJlbW92ZU5vZGUgIT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmVtb3ZlTm9kZS5QYXJlbnROb2RlLlJlbW92ZUNoaWxkKHJlbW92ZU5vZGUsIHRydWUpOwogICAgICAgICAgICAgICAgcmVtb3ZlTm9kZSA9IE5leHROb2RlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHN0cmlwcGVkIGh0bWwKICAgICAgICAgICAgcmV0dXJuIGh0bWxEb2MuRG9jdW1lbnROb2RlLldyaXRlVG8oKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIElubmVySHRtbCh0aGlzIHN0cmluZyBodG1sLCBzdHJpbmcgdGFnID0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShodG1sKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGxvYWQgYXMgaHRtbAogICAgICAgICAgICB2YXIgaHRtbERvYyA9IG5ldyBIdG1sRG9jdW1lbnQoKTsKICAgICAgICAgICAgaHRtbERvYy5Mb2FkSHRtbChodG1sKTsKCiAgICAgICAgICAgIHJldHVybiB0YWcgPT0gbnVsbCB8fCBodG1sRG9jLkRvY3VtZW50Tm9kZS5GaXJzdENoaWxkLk5hbWUuRXF1YWxzKHRhZywgU3RyaW5nQ29tcGFyaXNvbi5JbnZhcmlhbnRDdWx0dXJlSWdub3JlQ2FzZSkKICAgICAgICAgICAgICAgID8gaHRtbERvYy5Eb2N1bWVudE5vZGUuRmlyc3RDaGlsZC5Jbm5lckh0bWwKICAgICAgICAgICAgICAgIDogaHRtbDsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIENoZWNrcyB3aGV0aGVyIGEgaHRtbCBzdHJpbmcgY29udGFpbnMgb25seSBodG1sIHRhZ3MgZnJvbSB0aGUgU2FmZVRhZ3MgbGlzdAogICAgICAgIC8vLyA8L3N1bW1hcnk+CiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSJodG1sIj5hIGh0bWwgc3RyaW5nPC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InNhZmVUYWdzIj5hIHdoaXRlbGlzdCBvZiBzYWZlIHRhZ3M8L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz50cnVlIGlmIHRoZSBodG1sIGNvbnRhaW5zIG9ubHkgdGFncyBwcmVzZW50IGluIHRoZSBzYWZldGFncyBsaXN0PC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgYm9vbCBDb250YWluc09ubHlTYWZlSHRtbFRhZ3ModGhpcyBzdHJpbmcgaHRtbCwgSUxpc3Q8c3RyaW5nPiBzYWZlVGFncykKICAgICAgICB7CiAgICAgICAgICAgIC8vIFJlZ2V4IHRvIGZpbmQgYWxsIHRhZ3MKICAgICAgICAgICAgdmFyIGFsbFRhZ3MgPSBuZXcgUmVnZXgoQCI8Wy9dezAsMX1ccyooPzx0YWc+XHcqKVxzKig/PGF0dHI+Lio/PVsnIiJdLio/WyIiJ10pKj9ccypbL117MCwxfT4iLCBSZWdleE9wdGlvbnMuQ29tcGlsZWQpOwoKICAgICAgICAgICAgdmFyIHNhZmVVcHBlclRhZ3MgPSBzYWZlVGFncy5TZWxlY3QocyA9PiBzLlRvVXBwZXJJbnZhcmlhbnQoKSk7CgogICAgICAgICAgICAvLyBmaW5kIGFsbCB0YWdzCiAgICAgICAgICAgIHZhciBtYXRjaENvbGxlY3Rpb24gPSBhbGxUYWdzLk1hdGNoZXMoaHRtbCk7CiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBtYXRjaCBpbiBtYXRjaENvbGxlY3Rpb24pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIFJlbW92ZSA8LCA8LyBhbmQgPgogICAgICAgICAgICAgICAgdmFyIHRhZyA9IG1hdGNoLlRvU3RyaW5nKCkuUmVwbGFjZSgiPC8iLCAiIikuUmVwbGFjZSgiPCIsICIiKS5SZXBsYWNlKCI+IiwgIiIpLlRvVXBwZXJJbnZhcmlhbnQoKTsKCiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFnIGZvdW5kIGlzbnQgZXhwbGljaXRseSBtYXJrZWQgYXMgYmVpbmcgc2FmZSB0aGVuIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgaWYgKCFzYWZlVXBwZXJUYWdzLkNvbnRhaW5zKHRhZykpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFJlbW92ZUh0bWxBdHRyaWJ1dGVzKHRoaXMgc3RyaW5nIGh0bWwpCiAgICAgICAgewogICAgICAgICAgICB2YXIgZG9jID0gbmV3IEh0bWxEb2N1bWVudCgpOwogICAgICAgICAgICBkb2MuTG9hZEh0bWwoaHRtbCk7CgogICAgICAgICAgICBmb3JlYWNoICh2YXIgbm9kZSBpbiBkb2MuRG9jdW1lbnROb2RlLkRlc2NlbmRhbnRzQW5kU2VsZigpLldoZXJlKG5vZGUgPT4gbm9kZS5IYXNBdHRyaWJ1dGVzKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbm9kZS5BdHRyaWJ1dGVzLlJlbW92ZUFsbCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gZG9jLkRvY3VtZW50Tm9kZS5PdXRlckh0bWw7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBTZXRGaXJzdE5vZGVBdHRyaWJ1dGVWYWx1ZSh0aGlzIHN0cmluZyBodG1sLCBzdHJpbmcgYXR0cmlidXRlTmFtZSwgc3RyaW5nIGF0dHJpYnV0ZVZhbHVlKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGh0bWwpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgZG9jID0gbmV3IEh0bWxEb2N1bWVudCgpOwogICAgICAgICAgICBkb2MuTG9hZEh0bWwoaHRtbCk7CgogICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZG9jLkRvY3VtZW50Tm9kZS5GaXJzdENoaWxkPy5BdHRyaWJ1dGVzPy5GaXJzdE9yRGVmYXVsdChhID0+IGEuTmFtZS5FcXVhbHMoYXR0cmlidXRlTmFtZSwgU3RyaW5nQ29tcGFyaXNvbi5DdXJyZW50Q3VsdHVyZUlnbm9yZUNhc2UpKTsKICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSAhPSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuVmFsdWUgPSBhdHRyaWJ1dGVWYWx1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRvYy5Eb2N1bWVudE5vZGUuV3JpdGVUbygpOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PgogICAgICAgIC8vLyAgICAgZm9ybWF0cyB3b3JkMSx3b3JkMiB0byB3b3JkMSBzZXBhcmF0b3Igd29yZDIKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iaW5wdXQiPndvcmRzPC9wYXJhbT4KICAgICAgICAvLy8gPHBhcmFtIG5hbWU9InNlcGFyYXRvciI+bGFzdCBwYWlyIHNlcGFyYXRvcjwvcGFyYW0+CiAgICAgICAgLy8vIDxyZXR1cm5zPnN0cmluZzwvcmV0dXJucz4KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBUb0NvbW1hU2VwYXJhdGVkKHRoaXMgc3RyaW5nIGlucHV0LCBzdHJpbmcgc2VwYXJhdG9yKQogICAgICAgIHsKICAgICAgICAgICAgY29uc3Qgc3RyaW5nIGNvbW1hID0gIiwiOwogICAgICAgICAgICBjb25zdCBzdHJpbmcgY29tbWFGcmllbmRseSA9ICIsICI7CgogICAgICAgICAgICBpbnB1dCA9IGlucHV0LlJlcGxhY2UoY29tbWEsIGNvbW1hRnJpZW5kbHkpOwoKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHNlcGFyYXRvcikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5wdXQuTGFzdEluZGV4T2YoY29tbWEsIFN0cmluZ0NvbXBhcmlzb24uT3JkaW5hbCk7CgogICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2VwYXJhdG9yID0gJCIge3NlcGFyYXRvcn0iOwoKICAgICAgICAgICAgdmFyIGxhc3RXb3JkID0gaW5wdXQuU3Vic3RyaW5nKGluZGV4KTsKICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5SZXBsYWNlKGxhc3RXb3JkLCBsYXN0V29yZC5SZXBsYWNlKGNvbW1hLCBzZXBhcmF0b3IpKTsKCiAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT4KICAgICAgICAvLy8gICAgIFJlcGxhY2UgbW9yZSB0aGFuIDIgY29uc2VjdXRpdmUgbGluZS1icmVha3Mgd2l0aCBqdXN0IDIgbGluZS1icmVha3MKICAgICAgICAvLy8gICAgIEFsc28gY2F0ZXIgZm9yIG1hbnkgYnJlYWtzLCBmb2xsb3dlZCBieSBhIGJ1bmNoIG9mIHNwYWNlcywgYW5kIHRoZW4gbW9yZSBicmVha3MKICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iaW5wdXQiPndvcmRzPC9wYXJhbT4KICAgICAgICAvLy8gPHJldHVybnM+c3RyaW5nPC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIExpbWl0TGluZUJyZWFrc0FuZFdoaXRlc3BhY2UodGhpcyBzdHJpbmcgaW5wdXQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoaW5wdXQpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkVtcHR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBzdHJpbmcgcGF0dGVybiA9IEAiKFxyXG4pezIsfSI7CgogICAgICAgICAgICAvLyBXaGVuICMgY29uc2VjdXRpdmUgc3BhY2VzIGlzID4gMyByZXBsYWNlIHRoZW0gYWxsIHdpdGgganVzdCAyIHNwYWNlcy4gCiAgICAgICAgICAgIGlucHV0ID0gUmVnZXguUmVwbGFjZShpbnB1dCwgIiggKXsyLH0iLCAiICAiKTsKCiAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzIGEgLi5icmVhaztzcGFjZTtzcGFjZTticmVhay4uLiAtIHJlbW92ZSB0aGUgc3BhY2UuCiAgICAgICAgICAgIHZhciB0ID0gaW5wdXQuUmVwbGFjZSgiXHJcbiAgXHJcbiIsICJcclxuXHJcbiIpOwoKICAgICAgICAgICAgLy8gV2hlbiAjIGNvbnNlY3V0aXZlIGxpbmUtYnJlYWtzIGlzID4gMyByZXBsYWNlIHRoZW0gYWxsIHdpdGgganVzdCAyIGxpbmUtYnJlYWtzLgogICAgICAgICAgICByZXR1cm4gUmVnZXguUmVwbGFjZSh0LCBwYXR0ZXJuLCAiXHJcblxyXG4iKS5UcmltKCcgJyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBTZXRFbWFpbEh0bWxTdHlsZSh0aGlzIHN0cmluZyBpbnB1dCwgU2hvcCBzaG9wKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0OwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBMb2FkIGFzIEhUTUwKICAgICAgICAgICAgdmFyIGRvY3VtZW50ID0gbmV3IEh0bWxEb2N1bWVudCgpOwoKICAgICAgICAgICAgZG9jdW1lbnQuTG9hZEh0bWwoaW5wdXQpOwoKICAgICAgICAgICAgaWYgKGRvY3VtZW50LlBhcnNlRXJyb3JzLkFueSgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gR2V0IHRoZW1lIGZvciB1c2VyIHR5cGUKICAgICAgICAgICAgdmFyIHRoZW1lID0gbmV3IEVtYWlsVGhlbWUoc2hvcC5BY2NvdW50VHlwZSk7CiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHRoZW1lLkdldFRlbXBsYXRlRWxlbWVudHMoKTsKCiAgICAgICAgICAgIC8vIFNldCBlbWFpbCBpbmxpbmUgc3R5bGVzCiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBub2RlIGluIGRvY3VtZW50LkRvY3VtZW50Tm9kZS5EZXNjZW5kYW50cygpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMuQ29udGFpbnNLZXkobm9kZS5OYW1lLlRvTG93ZXIoKSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbm9kZS5TZXRBdHRyaWJ1dGVWYWx1ZSgic3R5bGUiLCBlbGVtZW50c1tub2RlLk5hbWUuVG9Mb3dlcigpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFN0cmlwcGVkIEhUTUwKICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LkRvY3VtZW50Tm9kZS5Xcml0ZVRvKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBSZVNoYXJwZXIgZGlzYWJsZSBvbmNlIEluY29uc2lzdGVudE5hbWluZwogICAgICAgIFtTdXBwcmVzc01lc3NhZ2UoIlNlY3VyaXR5IiwgIlNDUzAwMDYiKV0KICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBUb01ENSh0aGlzIHN0cmluZyBpbnB1dCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShpbnB1dCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXNpbmcgKHZhciBtZDUgPSBNRDUuQ3JlYXRlKCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBpbnB1dEJ5dGVzID0gRW5jb2RpbmcuQVNDSUkuR2V0Qnl0ZXMoaW5wdXQpOwogICAgICAgICAgICAgICAgdmFyIGhhc2ggPSBtZDUuQ29tcHV0ZUhhc2goaW5wdXRCeXRlcyk7CiAgICAgICAgICAgICAgICB2YXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwoKICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciB0IGluIGhhc2gpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgc2IuQXBwZW5kKHQuVG9TdHJpbmcoIlgyIikpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBzYi5Ub1N0cmluZygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLy8gPHN1bW1hcnk+CiAgICAgICAgLy8vICAgICBHZW5lcmF0ZSBhIEdyYXZhdGFyIFVSTCAtIGh0dHBzOi8vZW4uZ3JhdmF0YXIuY29tL3NpdGUvaW1wbGVtZW50L2ltYWdlcy8KICAgICAgICAvLy8gPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0iZW1haWwiPkVtYWlsIHRvIHVzZSBmb3IgR3JhdmF0YXI8L3BhcmFtPgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0ic2NhbGUiPlVzZSByZXRpbmEgc2NhbGU8L3BhcmFtPgogICAgICAgIC8vLyA8cGFyYW0gbmFtZT0ic2l6ZSI+U2l6ZSBpbiBwaXhlbHM8L3BhcmFtPgogICAgICAgIC8vLyA8cmV0dXJucz5VUkwgZm9yIGltYWdlPC9yZXR1cm5zPgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFRvR3JhdmF0YXJVcmwodGhpcyBzdHJpbmcgZW1haWwsIGludCBzaXplID0gNDAsIGludCBzY2FsZSA9IDEpCiAgICAgICAgewogICAgICAgICAgICB2YXIgZmFsbGJhY2sgPSBDb25zdGFudHMuSW1hZ2VzLlVzZXJEZWZhdWx0Qml0bWFwOwoKICAgICAgICAgICAgLy8gSWYgcmV0aW5hIHdpbGwgZ2V0IHBpeGVsYXRhaW9uLCB1c2UgbGFyZ2VyIGZhbGxiYWNrCiAgICAgICAgICAgIGlmIChzY2FsZSA+IDEgJiYgc2l6ZSA+IDE1MCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZmFsbGJhY2sgPSBDb25zdGFudHMuSW1hZ2VzLlVzZXJEZWZhdWx0Qml0bWFwUmV0aW5hOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTY2FsaW5nIAogICAgICAgICAgICBpZiAoc2NhbGUgPiAxKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBzaXplID0gc2l6ZSAqIHNjYWxlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgY2FjaGVCdXN0ID0gRGF0ZVRpbWUuVG9kYXkuVG9Vbml4RXBvY2hUaW1lKCk7CgogICAgICAgICAgICByZXR1cm4gJCJodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3tlbWFpbC5Ub01ENSgpLlRvTG93ZXIoKX0/cz17c2l6ZX0mZD17ZmFsbGJhY2t9JmNiPXtjYWNoZUJ1c3R9IjsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFRvVXJpQ29tcG9uZW50KHRoaXMgc3RyaW5nIGlucHV0KQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGlucHV0KSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5FbXB0eTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHN0ciA9IGlucHV0LlJlbW92ZUFjY2VudCgpLlRvTG93ZXIoKTsKCiAgICAgICAgICAgIHN0ciA9IFJlZ2V4LlJlcGxhY2Uoc3RyLCBAIlteYS16MC05XHMtX10iLCAiIik7IC8vIGludmFsaWQgY2hhcnMgICAgICAgICAgCiAgICAgICAgICAgIHN0ciA9IFJlZ2V4LlJlcGxhY2Uoc3RyLCBAIlxzKyIsICIgIikuVHJpbSgpOyAvLyBjb252ZXJ0IG11bHRpcGxlIHNwYWNlcyBpbnRvIG9uZSBzcGFjZSAgCiAgICAgICAgICAgIHN0ciA9IHN0ci5TdWJzdHJpbmcoMCwgc3RyLkxlbmd0aCA8PSA0NSA/IHN0ci5MZW5ndGggOiA0NSkuVHJpbSgpOyAvLyBjdXQgYW5kIHRyaW0gaXQgIAogICAgICAgICAgICBzdHIgPSBSZWdleC5SZXBsYWNlKHN0ciwgQCJbXHNfXSIsICItIik7IC8vIGh5cGhlbnMgIAoKICAgICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICB9Cgo=</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">dXNpbmcgTWljcm9zb2Z0LlZpc3VhbFN0dWRpby5UZXN0UGxhdGZvcm0uQ29yZVV0aWxpdGllcy5IZWxwZXJzOwo=</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAgIHJlc3BvbnNlLlBhcmVudElkLlNob3VsZCgpLkJlKGJsb2dQb3N0LlBhcmVudElkLlRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgcmVzcG9uc2UuUHJvZHVjdHMuU2hvdWxkKCkuQmVFcXVpdmFsZW50VG8oYmxvZ1Bvc3QuUHJvZHVjdHMuU2VsZWN0KHAgPT4gcC5Ub1N0cmluZygpKSk7Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAgIHJlc3BvbnNlLkRlc2NyaXB0aW9uLlNob3VsZCgpLkJlKGJsb2dQb3N0LkRlc2NyaXB0aW9uKTsK</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgICAgICAgICAgfQo=</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">ICAgICAgICAgICAgcHJpdmF0ZSB2Mm9pZCBBc3NlcnRDYXRlZ29yeURldGFpbHMoQ2F0ZWdvcnkgY2F0ZWdvcnksIENhdGVnb3J5UmVzcG9uc2UgcmVzcG9uc2UpCiAgICAgICAgICAgIHsK</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">ICAgICAgICAgICAgQWxsICAgIAo=</text>
      </register>
      <register name="-" type="4">
        <text>Shop</text>
      </register>
      <register name="/" type="4">
        <text>{</text>
      </register>
    </registers>
    <search>
      <last-search>{</last-search>
      <last-offset />
      <last-pattern>{</last-pattern>
      <last-replace>~</last-replace>
      <last-substitute>f{</last-substitute>
      <last-dir>-1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry encoding="base64">XDxHZXRQYWdlXD4=</entry>
        <entry>inter</entry>
        <entry encoding="base64">XDxlZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxFZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</entry>
        <entry encoding="base64">XDxibG9ja1NldHRpbmdcPg==</entry>
        <entry encoding="base64">XDx2YWx1ZVRva2VuXD4=</entry>
        <entry encoding="base64">XDxfcGFnZVNlcnZpY2VcPg==</entry>
        <entry encoding="base64">XDxtb2NrQ29sbGVjdGlvblw+</entry>
        <entry encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</entry>
        <entry encoding="base64">XDxmb3JtQXJndW1lbnRzXD4=</entry>
        <entry encoding="base64">XDxQaXBlXD4=</entry>
        <entry encoding="base64">XDxFeHByZXNzaW9uTGlzdFw+</entry>
        <entry encoding="base64">XDxFeHByZXNzaW9uXD4=</entry>
        <entry encoding="base64">XDxUZXJtXD4=</entry>
        <entry>f{</entry>
        <entry encoding="base64">XDx1c2VTcXVhcmVcPg==</entry>
        <entry>class</entry>
        <entry encoding="base64">XDxCdWlsZFRlc3RMb2NhbFw+</entry>
        <entry>{</entry>
      </history-search>
      <history-cmd />
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed C</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed S</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Y</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed X</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed W</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed Q</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed CLOSE_BRACKET</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed OPEN_BRACKET</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed BACK_SLASH</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>