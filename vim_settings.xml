<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Infrastructure/Security/CurrentUser.cs" timestamp="1564316012398">
        <mark key="^" line="31" column="29" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Tags/TagScenarios.cs" timestamp="1564021876883">
        <mark key="[" line="11" column="1" />
        <mark key="]" line="12" column="36" />
        <mark key="." line="12" column="36" />
        <mark key="^" line="12" column="36" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IThemesApi.cs" timestamp="1564315660449">
        <mark key="[" line="39" column="0" />
        <mark key="]" line="39" column="0" />
        <mark key="^" line="10" column="72" />
        <mark key="." line="39" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Pages/PagesUrlHelper.cs" timestamp="1564114673585">
        <mark key="[" line="12" column="54" />
        <mark key="]" line="13" column="46" />
        <mark key="." line="13" column="46" />
        <mark key="^" line="13" column="46" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/TagsController.cs" timestamp="1564032245298">
        <mark key="[" line="65" column="0" />
        <mark key="]" line="65" column="0" />
        <mark key="^" line="64" column="13" />
        <mark key="." line="65" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/ShopService.cs" timestamp="1564111154114">
        <mark key="[" line="56" column="102" />
        <mark key="]" line="53" column="25" />
        <mark key="." line="53" column="25" />
        <mark key="^" line="53" column="25" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/BlogPosts/BlogPostServiceTest.cs" timestamp="1564114340367">
        <mark key="[" line="64" column="179" />
        <mark key="]" line="65" column="182" />
        <mark key="^" line="65" column="182" />
        <mark key="." line="65" column="182" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PageContentsController.cs" timestamp="1564114131386">
        <mark key="[" line="135" column="31" />
        <mark key="]" line="135" column="15" />
        <mark key="." line="135" column="15" />
        <mark key="^" line="135" column="15" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Pages/PagesScenarios.cs" timestamp="1564021902343">
        <mark key="[" line="14" column="0" />
        <mark key="]" line="14" column="40" />
        <mark key="^" line="14" column="36" />
        <mark key="." line="15" column="50" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" timestamp="1564306723064">
        <mark key="'" line="73" column="8" />
        <mark key="[" line="97" column="0" />
        <mark key="]" line="130" column="9" />
        <mark key="." line="98" column="8" />
        <mark key="^" line="98" column="8" />
      </file>
      <file name="C:/dev/git/selz/Services.Contact/Service/src/Api/Selz.Contacts.Api/Controllers/ContactsController.cs" timestamp="1564359947633" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/ITagsApi.cs" timestamp="1564025370540">
        <mark key="[" line="8" column="73" />
        <mark key="]" line="8" column="87" />
        <mark key="^" line="8" column="71" />
        <mark key="." line="8" column="22" />
      </file>
      <file name="C:/dev/git/selz/Services.Catalog/Service/src/Api/Selz.Catalog.Api.FunctionalTests/Base/CategoryDataFixture.cs" timestamp="1564104549771">
        <mark key="[" line="15" column="29" />
        <mark key="]" line="15" column="28" />
        <mark key="^" line="15" column="28" />
        <mark key="." line="15" column="28" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/BlogPosts/BlogPostSearchResponse.cs" timestamp="1564106813134">
        <mark key="[" line="4" column="42" />
        <mark key="]" line="4" column="41" />
        <mark key="." line="4" column="41" />
        <mark key="^" line="4" column="41" />
      </file>
      <file name="C:/dev/git/selz/Services.Core/Client/src/Selz.Core.Client/Refit/SelzUrlParameterFormatter.cs" timestamp="1564358693052">
        <mark key="[" line="18" column="12" />
        <mark key="]" line="54" column="4" />
        <mark key="^" line="54" column="4" />
        <mark key="." line="54" column="4" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/CounterService.cs" timestamp="1564096355004">
        <mark key="[" line="40" column="74" />
        <mark key="]" line="40" column="24" />
        <mark key="." line="40" column="24" />
        <mark key="^" line="40" column="24" />
      </file>
      <file name="C:/dev/git/selz/Services.Core/Client/src/Selz.Core.Client/Refit/PathAttribute.cs" timestamp="1564358857975">
        <mark key="[" line="8" column="8" />
        <mark key="]" line="8" column="8" />
        <mark key="^" line="8" column="7" />
        <mark key="." line="8" column="8" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Settings/Controllers/StoresController.cs" timestamp="1563965929564">
        <mark key="[" line="88" column="35" />
        <mark key="]" line="91" column="45" />
        <mark key="^" line="91" column="45" />
        <mark key="." line="91" column="45" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Taggings/TaggingServiceTest.cs" timestamp="1564121672814">
        <mark key="[" line="60" column="100" />
        <mark key="]" line="61" column="50" />
        <mark key="." line="61" column="50" />
        <mark key="^" line="61" column="50" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/IBlogService.cs" timestamp="1564107393293">
        <mark key="[" line="17" column="86" />
        <mark key="]" line="17" column="92" />
        <mark key="." line="17" column="92" />
        <mark key="^" line="17" column="92" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/BlogPostsController.cs" timestamp="1564107605788">
        <mark key="[" line="109" column="39" />
        <mark key="]" line="120" column="15" />
        <mark key="^" line="120" column="15" />
        <mark key="." line="120" column="15" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/ThemesController.cs" timestamp="1564315625326">
        <mark key="[" line="131" column="0" />
        <mark key="]" line="131" column="0" />
        <mark key="." line="131" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/BlogPosts/BlogPostGetUrlHelper.cs" timestamp="1564114574853">
        <mark key="[" line="12" column="60" />
        <mark key="]" line="12" column="60" />
        <mark key="." line="12" column="60" />
        <mark key="^" line="13" column="46" />
      </file>
      <file name="C:/dev/git/selz/Services.Contact/Service/src/Api/Selz.Contacts.Api/Mapping/ContactMapper.cs" timestamp="1564357271078" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Mappings/Themes/ThemeVersionResponseMapper.cs" timestamp="1564096200674">
        <mark key="[" line="9" column="67" />
        <mark key="]" line="9" column="67" />
        <mark key="." line="9" column="67" />
        <mark key="^" line="9" column="69" />
      </file>
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/3F19B331-4C9B-4A59-9058-21B431A7B7C9/51/c9bea0a1/SlicedListOptions`1.cs" timestamp="1564044027533">
        <mark key="[" line="14" column="5" />
        <mark key="]" line="19" column="88" />
        <mark key="." line="19" column="88" />
        <mark key="^" line="19" column="88" />
      </file>
      <file name="C:/dev/git/selz/Services.Core/Client/src/Selz.Core.Client/Selz.Core.Client.csproj" timestamp="1564357814322" />
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" timestamp="1564025306838">
        <mark key="[" line="8" column="72" />
        <mark key="]" line="8" column="88" />
        <mark key="." line="30" column="0" />
        <mark key="^" line="8" column="71" />
      </file>
      <file name="/Dummy.txt" timestamp="1564359466633">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Pages/PageFixture.cs" timestamp="1564125837207">
        <mark key="[" line="14" column="61" />
        <mark key="]" line="10" column="16" />
        <mark key="^" line="10" column="16" />
        <mark key="." line="10" column="16" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/ShopScenarios.cs" timestamp="1564312492725">
        <mark key="[" line="15" column="13" />
        <mark key="]" line="13" column="0" />
        <mark key="." line="13" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Core/Client/Selz.Core.Client.sln" timestamp="1564357795202" />
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Web.config" timestamp="1563976507592">
        <mark key="[" line="582" column="68" />
        <mark key="]" line="582" column="69" />
        <mark key="." line="582" column="69" />
        <mark key="^" line="566" column="42" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IBlogPostsApi.cs" timestamp="1564108226641">
        <mark key="[" line="28" column="64" />
        <mark key="]" line="28" column="75" />
        <mark key="." line="28" column="75" />
        <mark key="^" line="28" column="75" />
      </file>
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/523208DF-A789-4126-9282-D4D8C2E1CFAC/1F/ApiVersioningOptions.cs" timestamp="1564016104347">
        <mark key="[" line="57" column="20" />
        <mark key="]" line="57" column="19" />
        <mark key="^" line="57" column="19" />
        <mark key="." line="57" column="19" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" timestamp="1564320214128">
        <mark key="[" line="1181" column="0" />
        <mark key="]" line="1181" column="0" />
        <mark key="." line="1181" column="0" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tags/TagService.cs" timestamp="1564111178856">
        <mark key="[" line="64" column="41" />
        <mark key="]" line="64" column="40" />
        <mark key="." line="64" column="40" />
        <mark key="^" line="64" column="40" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Themes/ThemingService.cs" timestamp="1564150535738">
        <mark key="[" line="1131" column="44" />
        <mark key="]" line="1131" column="79" />
        <mark key="." line="1131" column="79" />
        <mark key="^" line="1131" column="79" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/PageContents/PageContentService.cs" timestamp="1564109314204">
        <mark key="[" line="383" column="5" />
        <mark key="]" line="382" column="8" />
        <mark key="." line="382" column="8" />
        <mark key="^" line="382" column="8" />
      </file>
      <file name="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" timestamp="1564114514967">
        <mark key="[" line="61" column="55" />
        <mark key="]" line="61" column="55" />
        <mark key="." line="61" column="55" />
        <mark key="^" line="63" column="49" />
      </file>
      <file name="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Mappings/ItemMappings.cs" timestamp="1564314532218">
        <mark key="'" line="119" column="8" />
        <mark key="[" line="131" column="64" />
        <mark key="]" line="132" column="15" />
        <mark key="^" line="132" column="15" />
        <mark key="." line="132" column="15" />
      </file>
    </filemarks>
    <jumps>
      <jump line="688" column="38" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="68" column="21" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Controllers/FluidRendering.cs" />
      <jump line="145" column="58" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Mvc/Helpers/DrachmaUrlHelper.cs" />
      <jump line="514" column="32" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/HomeController.cs" />
      <jump line="79" column="25" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/CD244751-0325-4121-9FE0-724DAFC7E191/9a/538fb143/UrlHelperExtensions.cs" />
      <jump line="663" column="8" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Controllers/ShopBaseController.cs" />
      <jump line="88" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/DrachmaUrlHelper.cs" />
      <jump line="83" column="31" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="47" column="30" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/708471A1-09B7-4562-BB54-869632C6440F/a7/6c1ab3ba/OpenIdConnectAuthenticationExtensions.cs" />
      <jump line="75" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/829CD8EB-ED93-4A0D-A893-91D47CD94E39/e9/59073b30/TokenClient.cs" />
      <jump line="23" column="39" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/FormDrop.cs" />
      <jump line="195" column="35" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/BlockBase.cs" />
      <jump line="194" column="34" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/BlockBase.cs" />
      <jump line="110" column="25" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="0" column="0" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="104" column="6" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="767" column="38" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="965" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="382" column="30" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Controllers/BaseController.cs" />
      <jump line="249" column="33" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Extensions/S3Extension.cs" />
      <jump line="39" column="60" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Extensions/SelzSecretManagerExtensions.cs" />
      <jump line="114" column="16" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/BlogPostsController.cs" />
      <jump line="72" column="8" filename="C:/dev/git/selz/Services.Contact/Service/src/Api/Selz.Contacts.Api/Controllers/ContactsController.cs" />
      <jump line="92" column="29" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="127" column="25" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="132" column="30" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="28" column="7" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="34" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="7" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="95" column="44" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tagging/TaggingService.cs" />
      <jump line="16" column="35" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/IBlogService.cs" />
      <jump line="71" column="83" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/DataAnnotation/RequiredIfAttribute.cs" />
      <jump line="169" column="45" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/366F296F-670D-4283-BC11-860CD6D4BAEC/db/087fefce/AbstractValidator`1.cs" />
      <jump line="32" column="32" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Validators/BlogPostValidator.cs" />
      <jump line="15" column="48" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/BlogPosts/BlogPostRequest.cs" />
      <jump line="55" column="30" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/5ACA63E1-5879-4E37-A863-9E1D55811905/d8/bc779c17/FluentValidationMvcExtensions.cs" />
      <jump line="40" column="24" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7377099D-91F7-42A7-BB89-6982E405EFBF/1/Log.cs" />
      <jump line="28" column="27" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/EditableRegion.cs" />
      <jump line="63" column="23" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/B095A56F-3BE0-40CD-8205-081672035163/18/a9845b13/FluidGrammar.cs" />
      <jump line="389" column="134" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="179" column="20" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="181" column="30" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="183" column="41" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="197" column="24" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="182" column="24" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="189" column="37" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="229" column="50" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
      <jump line="348" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/B182083D-5048-4347-8DAC-3F04C9E7EB7F/c3/e1575b7b/HtmlSanitizer.cs" />
      <jump line="10" column="29" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Validators/PageValidator.cs" />
      <jump line="194" column="15" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7208242E-8171-474E-A12D-B9D506D0C43F/6/Attributes.cs" />
      <jump line="144" column="22" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PageContentsController.cs" />
      <jump line="23" column="76" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/PageContents/PageContentsDataFactory.cs" />
      <jump line="248" column="17" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7208242E-8171-474E-A12D-B9D506D0C43F/6/Attributes.cs" />
      <jump line="54" column="15" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Pages/PagesScenarios.cs" />
      <jump line="14" column="35" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/ITagsApi.cs" />
      <jump line="1695" column="39" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/52D57F27-21D6-403B-B269-6DF28E1EBA0A/7f/21251757/Enumerable.cs" />
      <jump line="14" column="16" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tags/TagService.cs" />
      <jump line="2" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tags/TagService.cs" />
      <jump line="62" column="56" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tags/TagService.cs" />
      <jump line="77" column="16" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Taggings/TaggingServiceTest.cs" />
      <jump line="78" column="12" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Taggings/TaggingServiceTest.cs" />
      <jump line="31" column="42" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Taggings/TaggingServiceTest.cs" />
      <jump line="523" column="52" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Ajax/Controllers/GoogleCampaignController.cs" />
      <jump line="14" column="17" filename="C:/dev/git/selz/drachma/src/Drachma.Core/Infrastructure/Search/SearchDependencyFactory.cs" />
      <jump line="19" column="30" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IShopsApi.cs" />
      <jump line="43" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/BlogPosts/BlogPostScenarios.cs" />
      <jump line="121" column="7" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="125" column="26" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="54" column="15" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="35" column="15" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.FunctionalTests/Base/DataFixture.cs" />
      <jump line="67" column="12" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/TagsController.cs" />
      <jump line="39" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageContentApi.cs" />
      <jump line="30" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IBlogPostsApi.cs" />
      <jump line="9" column="70" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageContentApi.cs" />
      <jump line="27" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="137" column="46" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Themes/ThemingService.cs" />
      <jump line="21" column="17" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/523208DF-A789-4126-9282-D4D8C2E1CFAC/13/ApiVersionAttribute.cs" />
      <jump line="119" column="8" filename="C:/dev/git/selz/Services.Sample/Service/src/Api/Selz.Sample.Api/Mappings/ItemMappings.cs" />
      <jump line="121" column="9" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/BlogService.cs" />
      <jump line="14" column="76" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Mappings/BlogPosts/BlogPostSearchMapper.cs" />
      <jump line="109" column="45" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Pages/PageService.cs" />
      <jump line="40" column="69" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api.UnitTests/Pages/PageServiceTest.cs" />
      <jump line="94" column="24" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/3F19B331-4C9B-4A59-9058-21B431A7B7C9/8e/7248c247/MongoRepository`2.cs" />
      <jump line="0" column="0" filename="$APPLICATION_CONFIG_DIR$/scratches/buffer1.txt" />
      <jump line="70" column="4" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Controllers/BaseController.cs" />
      <jump line="52" column="62" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Controllers/BaseController.cs" />
      <jump line="97" column="8" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="101" column="12" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="108" column="12" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="98" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="100" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="107" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="109" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="112" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="118" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="124" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="73" column="8" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" />
      <jump line="2128" column="16" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" />
      <jump line="1182" column="8" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" />
    </jumps>
    <registers>
      <register name="0" type="2">
        <text encoding="base64">ICAgICAgICBwcm90ZWN0ZWQgdm9pZCBHZXRNb2RlKCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBwYXJzZWQgPSBUaGVtZU1vZGVUeXBlcy5MaXZlOwoKICAgICAgICAgICAgLy8gR2V0IG1vZGUgZnJvbSBxdWVyeSBzdHJpbmcKICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gVmFsdWVQcm92aWRlci5HZXRWYWx1ZShDb25zdGFudHMuUXVlcnlTdHJpbmdLZXlzLk1vZGUpOwogICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcgIT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgRW51bS5UcnlQYXJzZShxdWVyeVN0cmluZy5BdHRlbXB0ZWRWYWx1ZSwgdHJ1ZSwgb3V0IHBhcnNlZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIE1vZGUgPSBwYXJzZWQ7CgogICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgY3VycmVudCB1c2VyIGlzIGFsbG93ZWQgZWRpdCBtb2RlCiAgICAgICAgICAgIHZhciBjYW5FZGl0ID0gQ3VycmVudFVzZXIuSXNBdXRoZW50aWNhdGVkICYmIFNob3AgIT0gbnVsbCAmJiBTaG9wLklkID09IEN1cnJlbnRVc2VyLlNob3BJZDsKCiAgICAgICAgICAgIC8vIFRyeWluZyB0byBmb3JjZSBlZGl0IG1vZGUgb3IgaWYgRmFjZWJvb2sgZnJhbWUKICAgICAgICAgICAgaWYgKE1vZGUgPT0gVGhlbWVNb2RlVHlwZXMuRWRpdCAmJiAhY2FuRWRpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTW9kZSA9IFRoZW1lTW9kZVR5cGVzLkxpdmU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEZvcmNlIGxpdmUgbW9kZSBpbiBub24gZWRpdG9yIGZyYW1lcwogICAgICAgICAgICBlbHNlIGlmIChNb2RlICE9IFRoZW1lTW9kZVR5cGVzLkRlbW8gJiYgRnJhbWUgIT0gRnJhbWVUeXBlcy5FZGl0b3IpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIE1vZGUgPSBUaGVtZU1vZGVUeXBlcy5MaXZlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJZiB0aGV5IGNhbiBlZGl0IGFuZCBpbiBlZGl0b3IgZnJhbWUKICAgICAgICAgICAgZWxzZSBpZiAoY2FuRWRpdCAmJiBGcmFtZSA9PSBGcmFtZVR5cGVzLkVkaXRvciAmJiBNb2RlID09IFRoZW1lTW9kZVR5cGVzLkxpdmUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIE1vZGUgPSBUaGVtZU1vZGVUeXBlcy5FZGl0OwogICAgICAgICAgICB9CiAgICAgICAgfQo=</text>
      </register>
      <register name="1" type="4">
        <text encoding="base64">ICAgICAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGNvZGUgaGVyZQogICAgICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oKTs=</text>
      </register>
      <register name="2" type="4">
        <text>switch (@enum)
            {
                
            }</text>
      </register>
      <register name="3" type="4">
        <text encoding="base64">aWYgKHZhbHVlIGlzIElFbnVtZXJhYmxlPGludD4gbnVtcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcuSm9pbihhdHRyaWJ1dGUuU2VwYXJhdG9yLlRvU3RyaW5nKCksIG51bXMuU2VsZWN0KHggPT4geC5Ub1N0cmluZygpKSkKICAgICAgICAgICAgICAgIH0=</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">fQo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgIH0K</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">ICAgICAgICAgCgogICAgICAgIHB1YmxpYyBDb250ZW50UmVzdWx0IFJlbmRlckNhdGVnb3JpZXMoKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXNQYWdlID0gX3BhZ2VTZXJ2aWNlLkdldEJ5UGF0aChDb25zdGFudHMuUGFnZXMuQ2F0ZWdvcmllc1BhZ2UuUGFnZVBhdGgsIFNlbGxlci5JZCwgdHJ1ZSk7CgogICAgICAgICAgICBpZiAoY2F0ZWdvcmllc1BhZ2UgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY2F0ZWdvcmllc1BhZ2UgPSBDb25zdGFudHMuUGFnZXMuQ2F0ZWdvcmllc1BhZ2UuQ3JlYXRlRGVmYXVsdFBhZ2UoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KGNhdGVnb3JpZXNQYWdlLlBhZ2VUaXRsZSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNQYWdlLlBhZ2VUaXRsZSA9IEJ1dHRvbnMuTmF2YmFyX0NhdGVnb3JpZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBSZW5kZXIoY2F0ZWdvcmllc1BhZ2UpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIENvbnRlbnRSZXN1bHQgUmVuZGVyQ2F0ZWdvcnkoQ2F0ZWdvcnkgY2F0ZWdvcnksIFNob3Agc2hvcCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUNvbnRleHQgPSBuZXcgVGVtcGxhdGVDb250ZXh0KCk7CgogICAgICAgICAgICB2YXIgY2F0ZWdvcnlEcm9wID0gbmV3IENhdGVnb3J5RHJvcChjYXRlZ29yeSwgX3NlYXJjaFNlcnZpY2UsIF9kb3dubG9hZFNlcnZpY2UsIHNob3AsIHRlbXBsYXRlQ29udGV4dCk7CgogICAgICAgICAgICBpZiAoY2F0ZWdvcnkuU2x1ZyA9PSBDb25zdGFudHMuUGFnZXMuQWxsQ2F0ZWdvcnlTbHVnKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjYXRlZ29yeURyb3AuVG90YWxJdGVtcyA9IF9wcm9kdWN0U2VydmljZS5HZXRUb3RhbFByb2R1Y3RzQnlTaG9wSWQoc2hvcC5JZCwgdHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB7IENvbnN0YW50cy5UaGVtZS5Ecm9wcy5DYXRlZ29yeSwgY2F0ZWdvcnlEcm9wIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShjYXRlZ29yeS5QYWdlVGl0bGUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjYXRlZ29yeS5QYWdlVGl0bGUgPSBjYXRlZ29yeS5OYW1lOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgY2F0ZWdvcnlQYWdlID0gbmV3IFBhZ2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgSWQgPSBjYXRlZ29yeS5JZCwKICAgICAgICAgICAgICAgIE5hbWUgPSBjYXRlZ29yeS5OYW1lLAogICAgICAgICAgICAgICAgUGFnZVRpdGxlID0gY2F0ZWdvcnkuUGFnZVRpdGxlLAogICAgICAgICAgICAgICAgTWV0YURlc2NyaXB0aW9uID0gc3RyaW5nLklzTnVsbE9yRW1wdHkoY2F0ZWdvcnkuTWV0YURlc2NyaXB0aW9uKSA/IGNhdGVnb3J5LkRlc2NyaXB0aW9uLlN0cmlwSHRtbCh0cnVlKS5TYW5pdGl6ZUh0bWwoKSA6IGNhdGVnb3J5Lk1ldGFEZXNjcmlwdGlvbi5TYW5pdGl6ZUh0bWwoKSwKICAgICAgICAgICAgICAgIElzUHVibGlzaGVkID0gY2F0ZWdvcnkuSXNQdWJsaXNoZWQsCiAgICAgICAgICAgICAgICBQYWdlUGF0aCA9ICQie0NvbnN0YW50cy5QYWdlcy5DYXRlZ29yeVBhZ2VQYXRoUHJlZml4fXtjYXRlZ29yeS5JZH0iCiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4gUmVuZGVyKGNhdGVnb3J5UGFnZSwgdGVtcGxhdGVWYXJpYWJsZXMpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIENvbnRlbnRSZXN1bHQgUmVuZGVyQ29udGVudFBhZ2UoUGFnZSBwYWdlLCBGb3JtQmFzZURyb3AgZm9ybSA9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoZm9ybSA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVuZGVyKHBhZ2UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcmVnaXN0ZXJzID0gbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMuVGhlbWUuS2V5cy5QYWdlRm9ybXMsIG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgeyBMaXF1aWRGb3JtVHlwZS5Db250YWN0LlRvU3RyaW5nKCksIGZvcm0gfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBSZW5kZXIocGFnZSwgcmVnaXN0ZXJzOiByZWdpc3RlcnMpOwogICAgICAgIH0KCg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">ICAgICAgICBwdWJsaWMgQ29udGVudFJlc3VsdCBSZW5kZXJCbG9nKCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBibG9nUGFnZSA9IF9wYWdlU2VydmljZS5HZXRCeVBhdGgoQ29uc3RhbnRzLlBhZ2VzLkJsb2dQYWdlLlBhZ2VQYXRoLCBTZWxsZXIuSWQsIFNlbGxlci5JZCAhPSBDdXJyZW50VXNlcklkKQogICAgICAgICAgICAgICAgICAgICAgICAgICA/PyBDb25zdGFudHMuUGFnZXMuQmxvZ1BhZ2UuQ3JlYXRlRGVmYXVsdFBhZ2UoKTsKCiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IFRlbXBsYXRlQ29udGV4dCgpOwogICAgICAgICAgICB2YXIgYmxvZ0Ryb3AgPSBuZXcgQmxvZ0Ryb3AoX2Jsb2dTZXJ2aWNlLCBfdGFnZ2luZ0Jsb2dTZXJ2aWNlLCBTZWxsZXIsIGNvbnRleHQpOwoKICAgICAgICAgICAgdmFyIHRlbXBsYXRlVmFyaWFibGVzID0gbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHsgQ29uc3RhbnRzLlRoZW1lLkRyb3BzLkJsb2csIGJsb2dEcm9wIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShibG9nUGFnZS5QYWdlVGl0bGUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBibG9nUGFnZS5QYWdlVGl0bGUgPSBUZXh0cy5CbG9nOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gUmVuZGVyKGJsb2dQYWdlLCB0ZW1wbGF0ZVZhcmlhYmxlcywgdGVtcGxhdGVDb250ZXh0OiBjb250ZXh0KTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBDb250ZW50UmVzdWx0IFJlbmRlckJsb2dQb3N0KEJsb2dQb3N0IGJsb2dQb3N0LCBTaG9wIHNob3ApCiAgICAgICAgewogICAgICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBUZW1wbGF0ZUNvbnRleHQoKTsKCiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB7IENvbnN0YW50cy5UaGVtZS5Ecm9wcy5BcnRpY2xlLCBCbG9nUG9zdERyb3AuTWFwKGJsb2dQb3N0LCBzaG9wLCBjb250ZXh0KSB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBpbnN0YW5jZVZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpOwoKICAgICAgICAgICAgaWYgKEFwcFJlZ2lzdHJ5SGVscGVyLklzQXBwSW5zdGFsbGVkKF9iYXNlQ29udHJvbGxlci5Db250cm9sbGVyQ29udGV4dCwgQ29uc3RhbnRzLkFwcHMuRGlzcXVzLCBTZWxsZXIuSWQpICYmICFibG9nUG9zdC5EaXNhYmxlQ29tbWVudHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluc3RhbmNlVmFyaWFibGVzLkFkZChDb25zdGFudHMuVGhlbWUuS2V5cy5BcHBEaXNxdXMsIFJlbmRlclBhcnRpYWxWaWV3KCJ+L0FyZWFzL0FwcF9EaXNxdXMvVmlld3MvRGlzcXVzL0Rpc3F1cy5jc2h0bWwiLCBEaXNxdXNWaWV3TW9kZWwuTWFwKGJsb2dQb3N0KSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoYmxvZ1Bvc3QuUGFnZVRpdGxlKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYmxvZ1Bvc3QuUGFnZVRpdGxlID0gYmxvZ1Bvc3QuTmFtZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIFJlbmRlcihibG9nUG9zdCwgdGVtcGxhdGVWYXJpYWJsZXMsIGluc3RhbmNlVmFyaWFibGVzLCB0ZW1wbGF0ZUNvbnRleHQ6IGNvbnRleHQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIENvbnRlbnRSZXN1bHQgUmVuZGVyVGFnKFRhZyB0YWcpCiAgICAgICAgewogICAgICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBUZW1wbGF0ZUNvbnRleHQoKTsKCiAgICAgICAgICAgIHZhciB0YWdQYWdlRHJvcCA9IG5ldyBUYWdQYWdlRHJvcCh0YWcsIF9ibG9nU2VydmljZSwgU2VsbGVyLCBjb250ZXh0KTsKCiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB7IENvbnN0YW50cy5UaGVtZS5Ecm9wcy5UYWcsIHRhZ1BhZ2VEcm9wIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eSh0YWcuUGFnZVRpdGxlKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGFnLlBhZ2VUaXRsZSA9IHRhZy5OYW1lOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gUmVuZGVyKHRhZywgdGVtcGxhdGVWYXJpYWJsZXMsIHRlbXBsYXRlQ29udGV4dDogY29udGV4dCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ29udGVudFJlc3VsdCBSZW5kZXJTZWFyY2goc3RyaW5nIGtleXdvcmQpCiAgICAgICAgewogICAgICAgICAgICB2YXIgc2VhcmNoUGFnZSA9IF9wYWdlU2VydmljZS5HZXRCeVBhdGgoQ29uc3RhbnRzLlBhZ2VzLlNlYXJjaFBhZ2UuUGFnZVBhdGgsIFNlbGxlci5JZCwgU2VsbGVyLklkICE9IEN1cnJlbnRVc2VySWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPz8gQ29uc3RhbnRzLlBhZ2VzLlNlYXJjaFBhZ2UuQ3JlYXRlRGVmYXVsdFBhZ2UoKTsKCiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IFRlbXBsYXRlQ29udGV4dCgpOwogICAgICAgICAgICB2YXIgc2VhcmNoRHJvcCA9IG5ldyBTZWFyY2hEcm9wKF9zZWFyY2hTZXJ2aWNlLCBfZG93bmxvYWRTZXJ2aWNlLCBTZWxsZXIsIGtleXdvcmQsIGNvbnRleHQpOwogICAgICAgICAgICB2YXIgdGVtcGxhdGVWYXJpYWJsZXMgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIG9iamVjdD4KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgeyBDb25zdGFudHMuVGhlbWUuRHJvcHMuU2VhcmNoLCBzZWFyY2hEcm9wIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBSZW5kZXIoc2VhcmNoUGFnZSwgdGVtcGxhdGVWYXJpYWJsZXMsIHRlbXBsYXRlQ29udGV4dDogY29udGV4dCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ29udGVudFJlc3VsdCBSZW5kZXJFcnJvcigpCiAgICAgICAgewogICAgICAgICAgICBfYmFzZUNvbnRyb2xsZXIuU2V0UmVzcG9uc2UoNDA0KTsKCiAgICAgICAgICAgIHZhciBwYWdlID0gQ29uc3RhbnRzLlBhZ2VzLkVycm9yUGFnZS5DcmVhdGVEZWZhdWx0UGFnZSgpOwoKICAgICAgICAgICAgaWYgKF9iYXNlQ29udHJvbGxlci5SZXF1ZXN0LlVybCAhPSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBwYWdlLlBhZ2VQYXRoID0gX2Jhc2VDb250cm9sbGVyLlJlcXVlc3QuVXJsLkFic29sdXRlUGF0aDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcGFnZS5QYWdlVGl0bGUgPSBUZXh0cy5FcnJvcl80MDRfVGl0bGU7CgogICAgICAgICAgICByZXR1cm4gUmVuZGVyKHBhZ2UpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIENvbnRlbnRSZXN1bHQgUmVuZGVyQ29udGVudEJsb2NrKFBhZ2VDb250ZW50IHBhZ2VDb250ZW50LCBzdHJpbmcgcGFnZVVybCwgT2JqZWN0SWQgaW5zdGFsbGVkVGhlbWVJZCwgaW50IHVzZXJJZCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChTZWxsZXIgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU2VsbGVyID0gX3Nob3BTZXJ2aWNlLkZpbmRCeUlkKHVzZXJJZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChJbnN0YWxsZWRUaGVtZSA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJbnN0YWxsZWRUaGVtZSA9IF90aGVtaW5nU2VydmljZS5HZXRJbnN0YWxsZWRUaGVtZShpbnN0YWxsZWRUaGVtZUlkLCB1c2VySWQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBCbG9ja3MgbmVlZCB0byB3b3JrIGZvciBhbnkgcGFnZSAtIGRvZXMgbm90IG1hdHRlciB3aGljaCBwYWdlIHdlIHJlbmRlcgogICAgICAgICAgICByZXR1cm4gUmVuZGVyKENvbnN0YW50cy5QYWdlcy5Ib21lUGFnZS5DcmVhdGVEZWZhdWx0UGFnZSgpLCBwYWdlQ29udGVudDogcGFnZUNvbnRlbnQsIHJlZ2lzdGVyczogbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHsgQ29uc3RhbnRzLlRoZW1lLktleXMuQ3VycmVudFVybCwgcGFnZVVybCB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gUHJpdmF0ZSBtZXRob2RzCgogICAgICAgIHByaXZhdGUgQ29udGVudFJlc3VsdCBSZW5kZXIoCiAgICAgICAgICAgIFBhZ2VCYXNlIHBhZ2UsCiAgICAgICAgICAgIElEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PiB0ZW1wbGF0ZVZhcmlhYmxlcyA9IG51bGwsCiAgICAgICAgICAgIElEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBwYWdlVmFyaWFibGVzID0gbnVsbCwKICAgICAgICAgICAgSURpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+IHJlZ2lzdGVycyA9IG51bGwsCiAgICAgICAgICAgIFBhZ2VDb250ZW50IHBhZ2VDb250ZW50ID0gbnVsbCwKICAgICAgICAgICAgVGVtcGxhdGVDb250ZXh0IHRlbXBsYXRlQ29udGV4dCA9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICBpZiAoX3RoZW1pbmdDb250cm9sbGVyID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkV4Y2VwdGlvbigiVGhlbWUgcmVuZGVyZXIgLSBjb250cm9sbGVyIGNvbnRleHQgbm90IHNldCIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL0luc3VyZSB0aGUgc3RhdGljIGNvbnN0cnVjdG9yIGlzIGV4ZWN1dGVkIGJlZm9yZSByZW5kZXJpbmcgZm9yIHRoZSBmaXJzdCByZXF1ZXN0IGhpdAogICAgICAgICAgICBSdW50aW1lSGVscGVycy5SdW5DbGFzc0NvbnN0cnVjdG9yKHR5cGVvZihTZWx6Rmx1aWRUZW1wbGF0ZSkuVHlwZUhhbmRsZSk7CgogICAgICAgICAgICB2YXIgY29udGV4dCA9IHRlbXBsYXRlQ29udGV4dCA/PyBuZXcgVGVtcGxhdGVDb250ZXh0KCk7CgogICAgICAgICAgICAvLyBHZXQgdGVtcGxhdGUKICAgICAgICAgICAgaWYgKHBhZ2VDb250ZW50ID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIF90aGVtaW5nU2VydmljZS5Jbml0VGVtcGxhdGUoSW5zdGFsbGVkVGhlbWUsIGNvbnRleHQsIFNlbGxlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBTZXRCbG9ja1RlbXBsYXRlKFNlbGxlciwgcGFnZUNvbnRlbnQsIEluc3RhbGxlZFRoZW1lLCBjb250ZXh0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgU2V0VGVtcGxhdGVSZWdpc3RlcnMoY29udGV4dCwgcGFnZSwgcmVnaXN0ZXJzLCBJbnN0YWxsZWRUaGVtZSwgcGFnZUNvbnRlbnQpOwoKICAgICAgICAgICAgU2V0UGFnZVZhcmlhYmxlcyhjb250ZXh0LCBwYWdlLCBwYWdlVmFyaWFibGVzLCB0ZW1wbGF0ZVZhcmlhYmxlcyk7CgogICAgICAgICAgICAvLyA8aGVhZD4gYW5kIDxib2R5PiBpbmNsdWRlcwogICAgICAgICAgICBTZXRCb2R5SW5jbHVkZXMoY29udGV4dCwgSW5zdGFsbGVkVGhlbWUpOwoKICAgICAgICAgICAgU2V0SGVhZEluY2x1ZGVzKGNvbnRleHQsIEluc3RhbGxlZFRoZW1lKTsKCiAgICAgICAgICAgIC8vIFByZXBhcmUgdGVtcGxhdGUgdmFyaWFibGVzIChpbmNsdWRlIGFueSBjb21tb24gZHJvcHMpCiAgICAgICAgICAgIFNldFBhZ2VUZW1wbGF0ZVZhcmlhYmxlcyh0ZW1wbGF0ZVZhcmlhYmxlcywgSW5zdGFsbGVkVGhlbWUsIHBhZ2UsIGNvbnRleHQpOwoKICAgICAgICAgICAgU2V0TWVtYmVyQWNjZXNzKGNvbnRleHQpOwoKICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBSZW5kZXIocGFnZSwgcGFnZUNvbnRlbnQsIGNvbnRleHQpOwoKICAgICAgICAgICAgLy8gQWRkIHRvIGNhY2hlCiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gX2h0dHBDb250ZXh0QWNjZXNzb3IuQ3VycmVudCgpLlJlcXVlc3Q7CgogICAgICAgICAgICBUYXNrLlJ1bigoKSA9PiBTZXRMaXF1aWRDYWNoZShyZXF1ZXN0LCBjb250ZW50KSk7CgogICAgICAgICAgICByZXR1cm4gbmV3IENvbnRlbnRSZXN1bHQKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQ29udGVudCA9IGNvbnRlbnQsCiAgICAgICAgICAgICAgICBDb250ZW50VHlwZSA9ICJ0ZXh0L2h0bWwiCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIHN0cmluZyBSZW5kZXIoUGFnZUJhc2UgcGFnZSwgUGFnZUNvbnRlbnQgcGFnZUNvbnRlbnQsIFRlbXBsYXRlQ29udGV4dCBjb250ZXh0KQogICAgICAgIHsKICAgICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IEdldFRlbXBsYXRlTmFtZShwYWdlLCBJbnN0YWxsZWRUaGVtZSwgY29udGV4dCk7CgogICAgICAgICAgICB2YXIgcmVuZGVyID0gbmV3IEZsdWlkUmVuZGVyaW5nKG5ldyBUaGVtZUZpbGVQcm92aWRlcihJbnN0YWxsZWRUaGVtZS5UaGVtZSkpOwoKICAgICAgICAgICAgdmFyIGlzQmxvY2tSZW5kZXJpbmcgPSBjb250ZXh0LkFtYmllbnRWYWx1ZXMuQ29udGFpbnNLZXkoQ29uc3RhbnRzLlRoZW1lLktleXMuSXNCbG9ja1JlbmRlcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoYm9vbCkgY29udGV4dC5BbWJpZW50VmFsdWVzW0NvbnN0YW50cy5UaGVtZS5LZXlzLklzQmxvY2tSZW5kZXJdOwoKICAgICAgICAgICAgc3RyaW5nIGNvbnRlbnQ7CiAgICAgICAgICAgIGlmICghaXNCbG9ja1JlbmRlcmluZykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29udGVudCA9IHJlbmRlci5SZW5kZXJBc3luYyh0ZW1wbGF0ZU5hbWUsIGNvbnRleHQpLlJlc3VsdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBibG9ja0NvbnRlbnQgPQogICAgICAgICAgICAgICAgICAgICQie3slIGVkaXRhYmxlX3JlZ2lvbiB7cGFnZUNvbnRlbnQuTmFtZX0geyhwYWdlQ29udGVudC5Jc0dsb2JhbCA/ICJ0cnVlIiA6ICIiKX0gJX19e3slIGVuZGVkaXRhYmxlX3JlZ2lvbiAlfX0iOwogICAgICAgICAgICAgICAgY29udGVudCA9IHJlbmRlci5SZW5kZXJGcm9tSHRtbEFzeW5jKGJsb2NrQ29udGVudCwgY29udGV4dCkuUmVzdWx0OwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBNaW5pZnkgSFRNTAogICAgICAgICAgICBjb250ZW50ID0gUmVnZXguUmVwbGFjZShjb250ZW50LCBAIndcbnxcdCIsICIgIik7CiAgICAgICAgICAgIGNvbnRlbnQgPSBSZWdleC5SZXBsYWNlKGNvbnRlbnQsIEAiPlxzKzwiLCAiPjwiKS5UcmltKCk7CiAgICAgICAgICAgIGNvbnRlbnQgPSBSZWdleC5SZXBsYWNlKGNvbnRlbnQsIEAiXHN7Mix9IiwgIiAiKTsKICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIFNldE1lbWJlckFjY2VzcyhUZW1wbGF0ZUNvbnRleHQgY29udGV4dCkKICAgICAgICB7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXIodHlwZW9mKENvbnRhY3RGb3JtRHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihGb3JtQmFzZURyb3ApKTsKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoU3RvcmVEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXIodHlwZW9mKFNvY2lhbExpbmtEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXIodHlwZW9mKFBhZ2VEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXIodHlwZW9mKEdvb2dsZUZvbnRzRHJvcCkpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3RlcjxGbHVpZEhhc2gsIG9iamVjdD4oKGhhc2hWYWx1ZSwgbmFtZSkgPT4gaGFzaFZhbHVlLkdldFZhbHVlKG5hbWUpKTsKCiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXI8QXBwc0Ryb3AsIGJvb2w+KChhcHBzLCBuYW1lKSA9PiBhcHBzLkR5bmFtaWNQcm9wZXJ0eShuYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihMaW5rRHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPExpbmtzRHJvcCwgSUxpc3Q8TGlua0Ryb3A+PigobGlua3MsIG5hdmlnYXRpb25OYW1lKSA9PgogICAgICAgICAgICAgICAgbGlua3MuRHluYW1pY1Byb3BlcnR5KG5hdmlnYXRpb25OYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihDYXRlZ29yaWVzRHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPENhdGVnb3JpZXNEcm9wLCBDYXRlZ29yeURyb3A+KChjYXRlZ29yaWVzLCBwYXRoKSA9PgogICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5EeW5hbWljUHJvcGVydHkocGF0aCkpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoSW1hZ2VEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXIodHlwZW9mKE1lZGlhRHJvcCkpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoQ2F0ZWdvcnlEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXI8Q2F0ZWdvcnlEcm9wLCBJUGFnZWRMaXN0PEZsdWlkRHJvcD4+KChjYXRlZ29yeSwgbmFtZSkgPT4KICAgICAgICAgICAgICAgIGNhdGVnb3J5LkR5bmFtaWNQcm9wZXJ0eShuYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihQcm9kdWN0RHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPFByb2R1Y3REcm9wLCBJTGlzdDxQcm9kdWN0Q2F0ZWdvcnlEcm9wPj4oKHByb2R1Y3QsIG5hbWUpID0+CiAgICAgICAgICAgICAgICBwcm9kdWN0LkR5bmFtaWNQcm9wZXJ0eShuYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPEZvcm1FcnJvcnNEcm9wPigpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPFBhZ2luYXRlRHJvcD4oKTsKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3RlcjxQYWdpbmF0ZUxpbmtEcm9wPigpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoU2VhcmNoRHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPFNlYXJjaERyb3AsIElQYWdlZExpc3Q8Rmx1aWREcm9wPj4oKHNlYXJjaCwgbmFtZSkgPT4KICAgICAgICAgICAgICAgIHNlYXJjaC5EeW5hbWljUHJvcGVydHkobmFtZSkpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoQmxvZ0Ryb3ApKTsKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3RlcjxCbG9nRHJvcCwgb2JqZWN0Pigoc2VhcmNoLCBuYW1lKSA9PgogICAgICAgICAgICAgICAgc2VhcmNoLkR5bmFtaWNQcm9wZXJ0eShuYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihCbG9nUG9zdHNEcm9wKSk7CiAgICAgICAgICAgIGNvbnRleHQuTWVtYmVyQWNjZXNzU3RyYXRlZ3kuUmVnaXN0ZXI8QmxvZ1Bvc3RzRHJvcCwgSVBhZ2VkTGlzdDxGbHVpZERyb3A+Pigoc2VhcmNoLCBuYW1lKSA9PgogICAgICAgICAgICAgICAgc2VhcmNoLkR5bmFtaWNQcm9wZXJ0eShuYW1lKSk7CgogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyKHR5cGVvZihCbG9nUG9zdERyb3ApKTsKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoUHJvZHVjdENhdGVnb3J5RHJvcCkpOwoKICAgICAgICAgICAgY29udGV4dC5NZW1iZXJBY2Nlc3NTdHJhdGVneS5SZWdpc3Rlcih0eXBlb2YoVGFnRHJvcCkpOwogICAgICAgICAgICBjb250ZXh0Lk1lbWJlckFjY2Vzc1N0cmF0ZWd5LlJlZ2lzdGVyPFRhZ1BhZ2VEcm9wLCBvYmplY3Q+KChkcm9wLCBuYW1lKSA9PgogICAgICAgICAgICAgICAgZHJvcC5EeW5hbWljUHJvcGVydHkobmFtZSkpOwogICAgICAgIH0KCiAgICAgICAgcHJpdmF0ZSB2b2lkIFNldExpcXVpZENhY2hlKEh0dHBSZXF1ZXN0QmFzZSByZXF1ZXN0LCBzdHJpbmcgY29udGVudCkKICAgICAgICB7CiAgICAgICAgICAgIF9zM0NhY2hlTGlxdWlkLlNldChyZXF1ZXN0LCBjb250ZW50KTsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgSUxpc3Q8UGFnZT4gR2V0UGFnZXMoSW5zdGFsbGVkVGhlbWUgaW5zdGFsbGVkVGhlbWUsIGJvb2wgc2VsbGVySXNBdXRoZW50aWNhdGVkKQogICAgICAgIHsKICAgICAgICAgICAgSUxpc3Q8UGFnZT4gcGFnZXM7CgogICAgICAgICAgICAvLyBUaGVtZSBwcmV2aWV3IC0gdGhlbWUgcGFnZXMKICAgICAgICAgICAgaWYgKGluc3RhbGxlZFRoZW1lLklzUHJldmlldykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcGFnZXMgPSBDb25zdGFudHMuUGFnZXMuRGVmYXVsdFBhZ2VzLlRvTGlzdCgpOwoKICAgICAgICAgICAgICAgIGlmIChpbnN0YWxsZWRUaGVtZS5UaGVtZS5QYWdlcyAhPSBudWxsICYmIGluc3RhbGxlZFRoZW1lLlRoZW1lLlBhZ2VzLkFueSgpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciB0aGVtZVBhZ2UgaW4gaW5zdGFsbGVkVGhlbWUuVGhlbWUuUGFnZXMpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlcy5BZGQobmV3IFBhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWQgPSB0aGVtZVBhZ2UuSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYWdlUGF0aCA9IHRoZW1lUGFnZS5QYWdlUGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VUaXRsZSA9IHRoZW1lUGFnZS5QYWdlVGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gdGhlbWVQYWdlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcGFnZXMgPSBfcGFnZVNlcnZpY2UuR2V0QWxsKFNlbGxlci5JZCwgIXNlbGxlcklzQXV0aGVudGljYXRlZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBwYWdlczsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgSUxpc3Q8Q2F0ZWdvcnk+IEdldENhdGVnb3JpZXMoaW50IHVzZXJJZCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBpc1NlbGxlciA9IFNlbGxlci5JZCA9PSB1c2VySWQ7CgogICAgICAgICAgICBpZiAoaXNTZWxsZXIgJiYgX3NlbGxlcnNDYXRlZ29yaWVzICE9IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBfc2VsbGVyc0NhdGVnb3JpZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBwdWJsaXNoZWRQcm9kdWN0cyA9IF9wcm9kdWN0U2VydmljZS5HZXRQcm9kdWN0SWRzQnlTaG9wSWQodXNlcklkKTsKICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBfY2F0ZWdvcnlTZXJ2aWNlLkdldEFsbCh1c2VySWQsIHRydWUsIHRydWUsIHRydWUsIHByb2R1Y3RzOiBwdWJsaXNoZWRQcm9kdWN0cyk7CgogICAgICAgICAgICAvLyBHZXQgYWxsIHByb2R1Y3RzIGZvciBBbGwgQ2F0ZWdvcnkKICAgICAgICAgICAgdmFyIGFsbENhdGVnb3J5ID0gY2F0ZWdvcmllcy5GaXJzdE9yRGVmYXVsdChjID0+IGMuU2x1ZyA9PSBDb25zdGFudHMuUGFnZXMuQWxsQ2F0ZWdvcnlTbHVnKTsKCiAgICAgICAgICAgIGlmIChhbGxDYXRlZ29yeSAhPSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhbGxDYXRlZ29yeS5Qcm9kdWN0cyA9IHB1Ymxpc2hlZFByb2R1Y3RzOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXNTZWxsZXIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIF9zZWxsZXJzQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yaWVzOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PkZldGNoIGFsbCBwcm9kdWN0cyBmb3IgYmxvY2tzIHdpdGggaXRlbSBzZWxlY3Rpb24gYXQgb25jZTwvc3VtbWFyeT4KICAgICAgICBwcml2YXRlIElMaXN0PFByb2R1Y3REcm9wPiBHZXRCbG9ja1Byb2R1Y3RzKElMaXN0PFBhZ2VDb250ZW50PiBwYWdlQ29udGVudCwgVGVtcGxhdGVDb250ZXh0IGNvbnRleHQpCiAgICAgICAgewogICAgICAgICAgICBpZiAocGFnZUNvbnRlbnQgPT0gbnVsbCB8fCAhcGFnZUNvbnRlbnQuQW55KCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdHlwZXMgPSBuZXcgTGlzdDxDb250ZW50QmxvY2tUeXBlPgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBDb250ZW50QmxvY2tUeXBlLkJ1dHRvbiwKICAgICAgICAgICAgICAgIENvbnRlbnRCbG9ja1R5cGUuSW1hZ2VXaXRoVGV4dCwKICAgICAgICAgICAgICAgIENvbnRlbnRCbG9ja1R5cGUuSW1hZ2VXaXRoVGV4dE92ZXJsYXksCiAgICAgICAgICAgICAgICBDb250ZW50QmxvY2tUeXBlLkZlYXR1cmVkUHJvZHVjdAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIGJsb2NrcyA9IHBhZ2VDb250ZW50LlNlbGVjdE1hbnkocCA9PiBwLkNvbnRlbnRCbG9ja3M/LldoZXJlKGJsb2NrID0+IHR5cGVzLkNvbnRhaW5zKGJsb2NrLlR5cGUpICYmIGJsb2NrLlNldHRpbmdzICE9IG51bGwpKS5Ub0xpc3QoKTsKCiAgICAgICAgICAgIC8vIENoZWNrIGluIGdyaWQgcmVnaW9ucyB0b28KICAgICAgICAgICAgZm9yZWFjaCAodmFyIGdyaWQgaW4gcGFnZUNvbnRlbnQuU2VsZWN0TWFueShwID0+IHAuQ29udGVudEJsb2Nrcz8uV2hlcmUoYiA9PiBiLlR5cGUgPT0gQ29udGVudEJsb2NrVHlwZS5HcmlkKSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChncmlkLkNvbnRlbnRSZWdpb25zID09IG51bGwgfHwgIWdyaWQuQ29udGVudFJlZ2lvbnMuQW55KCkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZm9yZWFjaCAodmFyIHJlZ2lvbiBpbiBncmlkLkNvbnRlbnRSZWdpb25zKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb24uQ29udGVudEJsb2NrcyA9PSBudWxsIHx8ICFyZWdpb24uQ29udGVudEJsb2Nrcy5BbnkoKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgYmxvY2tzLkFkZFJhbmdlKHJlZ2lvbi5Db250ZW50QmxvY2tzLldoZXJlKGIgPT4gdHlwZXMuQ29udGFpbnMoYi5UeXBlKSAmJiBiLlNldHRpbmdzICE9IG51bGwpLlRvTGlzdCgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGlkcyA9IGJsb2Nrcy5TZWxlY3QocCA9PiBwLlNldHRpbmdzKQogICAgICAgICAgICAgICAgLldoZXJlKHMgPT4gcy5Db250YWluc0tleShDb25zdGFudHMuVGhlbWUuU2V0dGluZ3MuSXRlbSkpCiAgICAgICAgICAgICAgICAuU2VsZWN0KHMgPT4gc1tDb25zdGFudHMuVGhlbWUuU2V0dGluZ3MuSXRlbV0pCiAgICAgICAgICAgICAgICAuV2hlcmUoaSA9PiBpICE9IG51bGwpLlRvTGlzdCgpOwoKICAgICAgICAgICAgdmFyIHByb2R1Y3RJZHMgPSBuZXcgTGlzdDxPYmplY3RJZD4oKTsKCiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBpZCBpbiBpZHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChPYmplY3RJZC5UcnlQYXJzZShpZC5Ub1N0cmluZygpLCBvdXQgdmFyIHByb2R1Y3RJZCkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkcy5BZGQocHJvZHVjdElkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFwcm9kdWN0SWRzLkFueSgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpc3Q8UHJvZHVjdERyb3A+KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBwcm9kdWN0cyA9IF9wcm9kdWN0U2VydmljZS5GaW5kQnlJZExpc3QocHJvZHVjdElkcyk7CgogICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSBfZG93bmxvYWRTZXJ2aWNlLkdldERvd25sb2FkU2V0dGluZ3MoU2VsbGVyLklkKTsKCiAgICAgICAgICAgIHJldHVybiBQcm9kdWN0RHJvcC5NYXAocHJvZHVjdHMsIHNldHRpbmdzLCBTZWxsZXIsIGNvbnRleHQpOwogICAgICAgIH0KCiAgICAgICAgLy8vIDxzdW1tYXJ5PlJlZ2lzdGVycyBsaXF1aWQgdGhlbWUgY2FuJ3QgYWNjZXNzPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8ZXhhbXBsZT5wYWdlX2NvbnRlbnQ8L2V4YW1wbGU+CiAgICAgICAgcHJpdmF0ZSB2b2lkIFNldFRlbXBsYXRlUmVnaXN0ZXJzKFRlbXBsYXRlQ29udGV4dCBjb250ZXh0LCBQYWdlQmFzZSBwYWdlLCBJRGljdGlvbmFyeTxzdHJpbmcsIG9iamVjdD4gcmVnaXN0ZXJzLCBJbnN0YWxsZWRUaGVtZSBpbnN0YWxsZWRUaGVtZSwgUGFnZUNvbnRlbnQgYmxvY2tQYWdlQ29udGVudCkKICAgICAgICB7CiAgICAgICAgICAgIC8vIEdldCBwYWdlIGNvbnRlbnQgLSBibG9ja1BhZ2VDb250ZW50IGlzIHNldCB3aGVuIHJlbmRlcmluZyBzaW5nbGUgYmxvY2sKICAgICAgICAgICAgdmFyIHBhZ2VDb250ZW50ID0gYmxvY2tQYWdlQ29udGVudCA9PSBudWxsCiAgICAgICAgICAgICAgICA/IF9wYWdlQ29udGVudFNlcnZpY2UuRmluZChwYWdlLlBhZ2VQYXRoLCBTZWxsZXIuSWQpCiAgICAgICAgICAgICAgICA6IG5ldyBMaXN0PFBhZ2VDb250ZW50PiB7IGJsb2NrUGFnZUNvbnRlbnQgfTsKCiAgICAgICAgICAgIC8vIEdldCBwbGFjZWhvbGRlcnMgLSB3ZSBuZWVkIHRoZXNlIGluIGFueSBtb2RlIGV4Y2VwdCAiZGVtbyIKICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVycyA9IE1vZGUgIT0gVGhlbWVNb2RlVHlwZXMuRGVtbwogICAgICAgICAgICAgICAgPyBfdGhlbWluZ1NlcnZpY2UuR2V0UGFnZUNvbnRlbnRQbGFjZWhvbGRlcnMoaW5zdGFsbGVkVGhlbWUuVGhlbWUpCiAgICAgICAgICAgICAgICA6IG51bGw7CgogICAgICAgICAgICAvLyBHZXQgY2F0ZWdvcmllcyAtIHdlIG5lZWQgdGhlc2UgZm9yIGNhdGVnb3J5IGxpc3QgYmxvY2sKICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBHZXRDYXRlZ29yaWVzKFNlbGxlci5JZCk7CgogICAgICAgICAgICAvLyBQYWdlQ29udGVudCBpcyByZW5kZXJlZCBkZXBlbmRpbmcgb24gdGhlIE1vZGUKICAgICAgICAgICAgY29udGV4dC5BbWJpZW50VmFsdWVzW0NvbnN0YW50cy5UaGVtZS5LZXlzLkNvbnRlbnRNb2RlXSA9IFJlbmRlckVkaXRvciA/IFRoZW1lTW9kZVR5cGVzLkVkaXQgOiBUaGVtZU1vZGVUeXBlcy5MaXZlOwogICAgICAgICAgICBjb250ZXh0LkFtYmllbnRWYWx1ZXNbQ29uc3RhbnRzLlRoZW1lLktleXMuRnJhbWVUeXBlXSA9IEZyYW1lOwogICAgICAgICAgICBjb250ZXh0LkFtYmllbnRWYWx1ZXNbQ29uc3RhbnRzLlRoZW1lLktleXMuUGFnZUNvbnRlbnRdID0gbmV3IFBhZ2VDb250ZW50TGlzdERyb3AocGFnZUNvbnRlbnQsIHBsYWNlaG9sZGVycywgY2F0ZWdvcmllcywgX3BhZ2VDb250ZW50U2VydmljZSwgcGFnZS5QYWdlUGF0aCwgU2VsbGVyLklkKTsKCiAgICAgICAgICAgIC8vIEdldCBmb250cyBsaXN0CiAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5Hb29nbGVGb250c0xpc3RdID0gbmV3IEdvb2dsZUZvbnRzRHJvcChfZ29vZ2xlRm9udHNTZXJ2aWNlKTsKCiAgICAgICAgICAgIC8vIFNlbGxlcgogICAgICAgICAgICBjb250ZXh0LkFtYmllbnRWYWx1ZXNbQ29uc3RhbnRzLlRoZW1lLktleXMuU3RvcmVUaW1lWm9uZV0gPSBTZWxsZXIuVGltZVpvbmU7CiAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5Jc1NlbGxlckF1dGhlbnRpY2F0ZWRdID0gU2VsbGVySXNBdXRoZW50aWNhdGVkOwoKICAgICAgICAgICAgLy8gTG9jYWxpemF0aW9uCiAgICAgICAgICAgIGlmIChJbnN0YWxsZWRUaGVtZS5UaGVtZS5Mb2NhbGVzICE9IG51bGwgJiYgSW5zdGFsbGVkVGhlbWUuVGhlbWUuTG9jYWxlcy5BbnkoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRMYW5ndWFnZSA9IEluc3RhbGxlZFRoZW1lLlRoZW1lLkRlZmF1bHRMb2NhbGVGaWxlKCk7CiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdExhbmd1YWdlICE9IG51bGwpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5BbWJpZW50VmFsdWVzW0NvbnN0YW50cy5UaGVtZS5LZXlzLkRlZmF1bHRMYW5ndWFnZUZpbGVdID0gZGVmYXVsdExhbmd1YWdlLkNvbnRlbnQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGxhbmd1YWdlID0gX3RoZW1pbmdTZXJ2aWNlLkdldFB1Ymxpc2hlZFRoZW1lQ3VsdHVyZShTZWxsZXIuSWQpOwogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMYW5ndWFnZSA9IEluc3RhbGxlZFRoZW1lLlRoZW1lLkdldExvY2FsZUZpbGUobGFuZ3VhZ2UpOwogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5DdXJyZW50TGFuZ3VhZ2VGaWxlXSA9IGN1cnJlbnRMYW5ndWFnZS5Db250ZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDdXN0b20gZG9tYWluCiAgICAgICAgICAgIHZhciB1c2VDdXN0b21Eb21haW4gPSBVc2VDdXN0b21Eb21haW4oKSAmJiAhKFNlbGxlcklzQXV0aGVudGljYXRlZCB8fCBpbnN0YWxsZWRUaGVtZS5Jc1ByZXZpZXcpOwoKICAgICAgICAgICAgLy8gU3RvcmUgVVJMCiAgICAgICAgICAgIHN0cmluZyB1cmw7CiAgICAgICAgICAgIGlmICh1c2VDdXN0b21Eb21haW4pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgSW5jb25zaXN0ZW50TmFtaW5nCiAgICAgICAgICAgICAgICB2YXIgcHJvdG9jb2wgPSBFbnZpcm9ubWVudEhlbHBlci5TZWN1cmVDdXN0b21Eb21haW5zKCkgPyAiaHR0cHM6IiA6ICJodHRwOiI7CiAgICAgICAgICAgICAgICB1cmwgPSAkIntwcm90b2NvbH0vL3tTZWxsZXIuU2hvcERvbWFpbn0iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdXJsID0gX2Jhc2VDb250cm9sbGVyLlVybC5TaG9wVXJsKFNlbGxlci5TaG9wTmFtZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5TdG9yZVVybF0gPSB1cmw7CgogICAgICAgICAgICAvLyBBbGwgcHJvZHVjdHMgZm9yIHJlbmRlcmluZyBidXR0b24gYmxvY2tzCiAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5CbG9ja1Byb2R1Y3RzXSA9IEdldEJsb2NrUHJvZHVjdHMocGFnZUNvbnRlbnQsIGNvbnRleHQpOwoKICAgICAgICAgICAgaWYgKF90aGVtaW5nQ29udHJvbGxlci5Nb2RlICE9IFRoZW1lTW9kZVR5cGVzLkxpdmUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5Nb2RlXSA9IF90aGVtaW5nQ29udHJvbGxlci5Nb2RlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBQZXJzaXN0IHRoZW1lIGluIHByZXZpZXcKICAgICAgICAgICAgaWYgKGluc3RhbGxlZFRoZW1lLklzUHJldmlldyAmJiBTZWxsZXJJc0F1dGhlbnRpY2F0ZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5UaGVtZUlkXSA9IGluc3RhbGxlZFRoZW1lLklkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmVnaXN0ZXJzICE9IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciByZWdpc3RlciBpbiByZWdpc3RlcnMpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5BbWJpZW50VmFsdWVzLkFkZChyZWdpc3Rlci5LZXksIHJlZ2lzdGVyLlZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gd2hlbiByZW5kZXJpbmcgYmxvY2sgQ3VycmVudFVybCBpcyBhbHJlYWR5IHNldAogICAgICAgICAgICBjb250ZXh0LkFtYmllbnRWYWx1ZXMuQWRkU2FmZShDb25zdGFudHMuVGhlbWUuS2V5cy5DdXJyZW50VXJsLCBIdHRwQ29udGV4dC5DdXJyZW50LlJlcXVlc3QuVXJsLkFic29sdXRlVXJpKTsKICAgICAgICB9CgogICAgICAgIC8vLyA8c3VtbWFyeT5QdWJsaWMgdmFyaWFibGVzIGxpcXVpZCB0aGVtZSBjYW4gYWNjZXNzPC9zdW1tYXJ5PgogICAgICAgIC8vLyA8ZXhhbXBsZT5taW5pX2NhcnQ8L2V4YW1wbGU+CiAgICAgICAgcHJpdmF0ZSB2b2lkIFNldFBhZ2VWYXJpYWJsZXMoVGVtcGxhdGVDb250ZXh0IGNvbnRleHQsIFBhZ2VCYXNlIHBhZ2UsIElEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBwYWdlVmFyaWFibGVzLCBJRGljdGlvbmFyeTxzdHJpbmcsIG9iamVjdD4gdGVtcGxhdGVWYXJpYWJsZXMpCiAgICAgICAgewogICAgICAgICAgICBpZiAocGFnZS5JZCA9PSBDb25zdGFudHMuUGFnZXMuRXJyb3JQYWdlSWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHBhZ2VWYXJpYWJsZXMgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcGFnZVZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBZGQgY29tbW9uIHZhcmlhYmxlcyAtIG1pbmkgY2FydAogICAgICAgICAgICBpZiAoQXBwUmVnaXN0cnlIZWxwZXIuSXNBcHBJbnN0YWxsZWQoX2Jhc2VDb250cm9sbGVyLkNvbnRyb2xsZXJDb250ZXh0LCBDb25zdGFudHMuQXBwcy5DYXJ0LCBTZWxsZXIuSWQpCiAgICAgICAgICAgICAgICAmJiAhcGFnZVZhcmlhYmxlcy5Db250YWluc0tleShDb25zdGFudHMuVGhlbWUuS2V5cy5NaW5pQ2FydCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIEdldCBjdXJyZW5jeSBjb2RlIHRvIHNob3cgZmlyc3QgaW4gY2FydAogICAgICAgICAgICAgICAgc3RyaW5nIGN1cnJlbmN5Q29kZTsKCiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBvbiBhIHByb2R1Y3QgcGFnZSwgc2hvdyBmb3IgdGhhdCBwcm9kdWN0CiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVWYXJpYWJsZXMgIT0gbnVsbCAmJiB0ZW1wbGF0ZVZhcmlhYmxlcy5Db250YWluc0tleShDb25zdGFudHMuVGhlbWUuRHJvcHMuSXRlbSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3REcm9wID0gKFByb2R1Y3REcm9wKSB0ZW1wbGF0ZVZhcmlhYmxlc1tDb25zdGFudHMuVGhlbWUuRHJvcHMuSXRlbV07CiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gcHJvZHVjdERyb3AuQ3VycmVuY3lDb2RlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gRWxzZSBnZXQgdGhlIG1vc3QgY29tbW9uCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gX3Byb2R1Y3RTZXJ2aWNlLkdldENvbW1vbkN1cnJlbmN5QnlTaG9wSWQoU2VsbGVyLklkKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBDYXJ0TWluaVZpZXdNb2RlbC5NYXAoU2VsbGVyLCBjdXJyZW5jeUNvZGUpOwoKICAgICAgICAgICAgICAgIHBhZ2VWYXJpYWJsZXMuQWRkKENvbnN0YW50cy5UaGVtZS5LZXlzLk1pbmlDYXJ0LCBSZW5kZXJQYXJ0aWFsVmlldygifi9BcmVhcy9TaG9wL1ZpZXdzL0NhcnQvX0NhcnRNaW5pLmNzaHRtbCIsIG1vZGVsKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFNldCB2YXJpYWJsZXMKICAgICAgICAgICAgZm9yZWFjaCAodmFyIGluc3RhbmNlVmFyaWFibGUgaW4gcGFnZVZhcmlhYmxlcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29udGV4dC5TZXRWYWx1ZShpbnN0YW5jZVZhcmlhYmxlLktleSwgaW5zdGFuY2VWYXJpYWJsZS5WYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHByaXZhdGUgdm9pZCBTZXRIZWFkSW5jbHVkZXMoVGVtcGxhdGVDb250ZXh0IGNvbnRleHQsIEluc3RhbGxlZFRoZW1lIGluc3RhbGxlZFRoZW1lKQogICAgICAgIHsKICAgICAgICAgICAgLy8gR2V0IC0gc2VlIFRoZW1pbmdTZXJ2aWNlLkluaXRUZW1wbGF0ZSgpCiAgICAgICAgICAgIHZhciBpbmNsdWRlcyA9IGNvbnRleHQuR2V0VmFsdWUoQ29uc3RhbnRzLlRoZW1lLlRhZ3MuSW5jbHVkZXNIZWFkKS5Ub1N0cmluZ1ZhbHVlKCk7CgogICAgICAgICAgICBpZiAoUmVuZGVyRWRpdG9yKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpbmNsdWRlcyArPSBzdHJpbmcuRm9ybWF0KENvbnN0YW50cy5NYXJrdXAuU3R5bGVTaGVldEZvcm1hdCwgQnVuZGxlcy5Dc3NVcmwoQnVuZGxlcy5Dc3MuU3RvcmVQcm94eSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJbmplY3QgY3VzdG9tIHN0b3JlIGNvcmUgQ1NTIGJ1bmRsZQogICAgICAgICAgICBpbmNsdWRlcyArPSBzdHJpbmcuRm9ybWF0KENvbnN0YW50cy5NYXJrdXAuU3R5bGVTaGVldEZvcm1hdCwgQnVuZGxlcy5Dc3NVcmwoQnVuZGxlcy5Dc3MuU3RvcmUpKTsKCiAgICAgICAgICAgIC8vIEluamVjdCBpbmxpbmUgc3R5bGVzCiAgICAgICAgICAgIGlmIChpbnN0YWxsZWRUaGVtZS5UaGVtZS5IYXNJbmxpbmVTdHlsZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGNzcyA9IF90aGVtaW5nU2VydmljZS5CdWlsZElubGluZVN0eWxlcyhpbnN0YWxsZWRUaGVtZSwgU2VsbGVyLklkLCBpc0VtYmVkOiBGcmFtZS5Jc0VtYmVkKCkpOwoKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEdlbmVyaWNIdG1sSGVscGVyLlJlbmRlclN0eWxlQmxvY2soY3NzLCBmYWxzZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEN1c3RvbSBDU1MgaW4gc3RvcmUgc2V0dGluZ3MKICAgICAgICAgICAgaW5jbHVkZXMgKz0gR2VuZXJpY0h0bWxIZWxwZXIuUmVuZGVyU3R5bGVCbG9jayhTZWxsZXIuU2hvcEN1c3RvbVN0eWxlcyk7CgogICAgICAgICAgICAvLyBDdXN0b20gc25pcHBldHMKICAgICAgICAgICAgaWYgKFNlbGxlci5IYXNTaG9wU25pcHBldHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBjc3MgPSBTZWxsZXIuU2hvcFNuaXBwZXRzLkdldFNuaXBwZXQoQ3VzdG9tQ29kZVR5cGUuQ1NTLCBDdXN0b21Db2RlTG9jYXRpb24uSGVhZCk7CgogICAgICAgICAgICAgICAgaWYgKGNzcyAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IHN0cmluZy5Gb3JtYXQoQ29uc3RhbnRzLk1hcmt1cC5TdHlsZVNoZWV0Rm9ybWF0LCBjc3MuR2V0VXJsKFNlbGxlci5JZCkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghRnJhbWUuSXNFbWJlZCgpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gU2VsbGVyLlNob3BTbmlwcGV0cy5HZXRTbmlwcGV0KEN1c3RvbUNvZGVUeXBlLkhUTUwsIEN1c3RvbUNvZGVMb2NhdGlvbi5IZWFkKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGh0bWwgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IF9zaG9wRmlsZVNlcnZpY2UuR2V0Q29kZVNuaXBwZXQoU2VsbGVyLklkLCBodG1sKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFNpdGUgdmVyaWZpY2F0aW9uCiAgICAgICAgICAgIHZhciBtb2RlbCA9IFNob3BUcmFja2luZ1ZpZXdNb2RlbC5NYXAoU2VsbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIGlmICghc3RyaW5nLklzTnVsbE9yRW1wdHkobW9kZWwuR29vZ2xlV2VibWFzdGVycykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEFkZE1ldGFEYXRhKCJnb29nbGUtc2l0ZS12ZXJpZmljYXRpb24iLCBtb2RlbC5Hb29nbGVXZWJtYXN0ZXJzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFzdHJpbmcuSXNOdWxsT3JFbXB0eShtb2RlbC5CaW5nV2VibWFzdGVycykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEFkZE1ldGFEYXRhKCJtc3ZhbGlkYXRlLjAxIiwgbW9kZWwuQmluZ1dlYm1hc3RlcnMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KG1vZGVsLlBpbnRlcmVzdFZlcmlmaWNhdGlvbikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEFkZE1ldGFEYXRhKCJwOmRvbWFpbl92ZXJpZnkiLCBtb2RlbC5QaW50ZXJlc3RWZXJpZmljYXRpb24pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBZGQgZnJhbWUgdHlwZQogICAgICAgICAgICBpbmNsdWRlcyArPSBBZGRNZXRhRGF0YShDb25zdGFudHMuTWV0YU5hbWVzLkZyYW1lVHlwZSwgRnJhbWUuVG9NZXRhQ29udGVudCgpKTsKCiAgICAgICAgICAgIC8vIEFkZCB1c2VyIGlkIGZvciB0ZXN0cwogICAgICAgICAgICBpZiAoRW52aXJvbm1lbnRIZWxwZXIuSXNUZXN0KCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEFkZE1ldGFEYXRhKENvbnN0YW50cy5NZXRhTmFtZXMuVXNlcklkLCBDdXJyZW50VXNlcklkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSW5qZWN0IGZyYW1lIEpTIHRvIGJ1c3Qgb3V0IGlmIG5vdCBpbiBmcmFtZQogICAgICAgICAgICBpZiAoRnJhbWUgIT0gRnJhbWVUeXBlcy5VbmRlZmluZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzICs9IEdlbmVyaWNIdG1sSGVscGVyLklubGluZVNjcmlwdChCdW5kbGVzLkphdmFTY3JpcHQuRnJhbWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBTZXQKICAgICAgICAgICAgY29udGV4dC5TZXRWYWx1ZShDb25zdGFudHMuVGhlbWUuVGFncy5JbmNsdWRlc0hlYWQsIGluY2x1ZGVzKTsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgdm9pZCBTZXRCb2R5SW5jbHVkZXMoVGVtcGxhdGVDb250ZXh0IGNvbnRleHQsIEluc3RhbGxlZFRoZW1lIGluc3RhbGxlZFRoZW1lKQogICAgICAgIHsKICAgICAgICAgICAgLy8gSmF2YVNjcmlwdAogICAgICAgICAgICB2YXIgaW5jbHVkZXMgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwoKICAgICAgICAgICAgLy8gRGVidWcgaW5mbwogICAgICAgICAgICBpZiAoIWluc3RhbGxlZFRoZW1lLlRoZW1lLklzRGVmYXVsdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIHRoZW1lTmFtZSA9IGluc3RhbGxlZFRoZW1lLkdldE5hbWUoKTsKICAgICAgICAgICAgICAgIHZhciB0aGVtZVZlcnNpb24gPSBpbnN0YWxsZWRUaGVtZS5Jc0R1cGxpY2F0ZWQgPyBpbnN0YWxsZWRUaGVtZS5EdXBsaWNhdGVkVmVyc2lvbiA6IGluc3RhbGxlZFRoZW1lLlRoZW1lLlZlcnNpb24uVG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHZhciB0aGVtZVN0YXRlID0gaW5zdGFsbGVkVGhlbWUuSXNEdXBsaWNhdGVkID8gJCJEdXBsaWNhdGVkIGZyb20ge2luc3RhbGxlZFRoZW1lLlRoZW1lLk5hbWV9IiA6IGluc3RhbGxlZFRoZW1lLklzQ3VzdG9tID8gIkN1c3RvbSIgOiAiVW5tb2RpZmllZCI7CiAgICAgICAgICAgICAgICBpbmNsdWRlcy5BcHBlbmQoJCI8IS0tIFRoZW1lOiB7dGhlbWVOYW1lfSB8IHt0aGVtZVN0YXRlfSB8IHt0aGVtZVZlcnNpb259IC0tPiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaW5jbHVkZXMuQXBwZW5kKCQiPCEtLSBUaGVtZToge2luc3RhbGxlZFRoZW1lLlRoZW1lLk5hbWV9IHwge2luc3RhbGxlZFRoZW1lLlRoZW1lLlZlcnNpb259IC0tPiIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDb25maWcKICAgICAgICAgICAgaW5jbHVkZXMuQXBwZW5kKEphdmFTY3JpcHRIZWxwZXIuR2V0Q29uZmlnKGluc3RhbGxlZFRoZW1lLlRoZW1lLCBGcmFtZSwgQ29uc3RhbnRzLkFyZWFzLlNob3AsIFNlbGxlcklzQXV0aGVudGljYXRlZCkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUG9seWZpbGxzCiAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgR2VuZXJpY0h0bWxIZWxwZXIuR2V0UG9seWZpbGxVcmwoKSk7CgogICAgICAgICAgICAvLyBKYXZhU2NyaXB0CiAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuVmVuZG9yKSk7CiAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuTG9jYWxlKSk7CiAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuQ29yZSkpOwoKICAgICAgICAgICAgLy8gU3RvcmUgSlMgYnVuZGxlCiAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuU3RvcmUpKTsKCiAgICAgICAgICAgIC8vIEZhY2Vib29rIENoYXQKICAgICAgICAgICAgaWYgKEZyYW1lLklzRmFjZWJvb2tDaGF0QWxsb3dlZCgpICYmICFzdHJpbmcuSXNOdWxsT3JFbXB0eShTZWxsZXIuU2hvcEZhY2Vib29rQ3VzdG9tZXJDaGF0UGFnZUlkKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGxhbmd1YWdlID0gX3RoZW1pbmdTZXJ2aWNlLkdldFB1Ymxpc2hlZFRoZW1lQ3VsdHVyZShTZWxsZXIuSWQpOwoKICAgICAgICAgICAgICAgIHZhciBjdWx0dXJlQ29kZSA9IEN1bHR1cmVIZWxwZXIuR2V0UmVnaW9uYWxDdWx0dXJlKGxhbmd1YWdlKTsKCiAgICAgICAgICAgICAgICB2YXIgZmFjZWJvb2tDaGF0TW9kZWwgPSBGYWNlYm9va0N1c3RvbWVyQ2hhdE1vZGVsLk1hcChTZWxsZXIuU2hvcEZhY2Vib29rQ3VzdG9tZXJDaGF0UGFnZUlkLCBjdWx0dXJlQ29kZSk7CgogICAgICAgICAgICAgICAgaW5jbHVkZXMuQXBwZW5kKFJlbmRlclBhcnRpYWxWaWV3KCJ+L0FyZWFzL1Nob3AvVmlld3MvU2hhcmVkL19GYWNlYm9va0N1c3RvbWVyQ2hhdC5jc2h0bWwiLCBmYWNlYm9va0NoYXRNb2RlbCkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBFeHRyYSBzY3JpcHRzIGZvciBlZGl0b3IgbW9kZQogICAgICAgICAgICBpZiAoUmVuZGVyRWRpdG9yKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSBuZXcKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBidXR0b25zID0gaW5zdGFsbGVkVGhlbWUuVGhlbWUuQnV0dG9ucygpLAogICAgICAgICAgICAgICAgICAgIGZvbnRzID0gaW5zdGFsbGVkVGhlbWUuVGhlbWUuRm9udHMoKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpbmNsdWRlcy5BcHBlbmQoR2VuZXJpY0h0bWxIZWxwZXIuUmVuZGVyU2NyaXB0QmxvY2soJCJ3aW5kb3cuX3BsdWdpbnM9J3tzZXR0aW5ncy5TZXJpYWxpemUoKX0nIikpOwoKICAgICAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZChHZW5lcmljSHRtbEhlbHBlci5JbmxpbmVTY3JpcHQoQnVuZGxlcy5KYXZhU2NyaXB0LlNwcml0ZSkpOwoKICAgICAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuU3RvcmVQcm94eSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJbmplY3QgZnJhbWUgSlMKICAgICAgICAgICAgaWYgKEZyYW1lID09IEZyYW1lVHlwZXMuTW9kYWwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgQnVuZGxlcy5Kc1VybChCdW5kbGVzLkphdmFTY3JpcHQuRnJhbWVNb2RhbCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEZyYW1lID09IEZyYW1lVHlwZXMuU2hvcCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaW5jbHVkZXMuQXBwZW5kRm9ybWF0KENvbnN0YW50cy5NYXJrdXAuU2NyaXB0Rm9ybWF0LCBCdW5kbGVzLkpzVXJsKEJ1bmRsZXMuSmF2YVNjcmlwdC5GcmFtZVN0b3JlKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFuYWx5dGljcwogICAgICAgICAgICB2YXIgaXNCb3QgPSBfYmFzZUNvbnRyb2xsZXIuUmVxdWVzdC5Jc0JvdCgpOwoKICAgICAgICAgICAgaWYgKCFpc0JvdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgX3RoZW1pbmdDb250cm9sbGVyLlNldFNlbGxlclRyYWNraW5nKFNlbGxlcik7CgogICAgICAgICAgICAgICAgdmFyIGFuYWx5dGljcyA9IFJlbmRlclBhcnRpYWxWaWV3KCJ+L0FyZWFzL1Nob3AvVmlld3MvU2hhcmVkL0FuYWx5dGljcy9fQWxsVGFncy5jc2h0bWwiKTsKICAgICAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZChhbmFseXRpY3MpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDdXN0b20gSlMKICAgICAgICAgICAgdmFyIGN1c3RvbUphdmFTY3JpcHQgPSBHZW5lcmljSHRtbEhlbHBlci5SZW5kZXJTY3JpcHRCbG9jayhTZWxsZXIuU2hvcEN1c3RvbUphdmFTY3JpcHQsIHRyeUNhdGNoOiB0cnVlKTsKICAgICAgICAgICAgaW5jbHVkZXMuQXBwZW5kKGN1c3RvbUphdmFTY3JpcHQpOwoKICAgICAgICAgICAgLy8gQ3VzdG9tIHNuaXBwZXRzCiAgICAgICAgICAgIGlmIChTZWxsZXIuSGFzU2hvcFNuaXBwZXRzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgamF2YXNjcmlwdCA9IFNlbGxlci5TaG9wU25pcHBldHMuR2V0U25pcHBldChDdXN0b21Db2RlVHlwZS5KYXZhU2NyaXB0KTsKCiAgICAgICAgICAgICAgICBpZiAoamF2YXNjcmlwdCAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzLkFwcGVuZEZvcm1hdChDb25zdGFudHMuTWFya3VwLlNjcmlwdEZvcm1hdCwgamF2YXNjcmlwdC5HZXRVcmwoU2VsbGVyLklkKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFGcmFtZS5Jc0VtYmVkKCkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBTZWxsZXIuU2hvcFNuaXBwZXRzLkdldFNuaXBwZXQoQ3VzdG9tQ29kZVR5cGUuSFRNTCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChodG1sICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlcy5BcHBlbmQoX3Nob3BGaWxlU2VydmljZS5HZXRDb2RlU25pcHBldChTZWxsZXIuSWQsIGh0bWwpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFkZCB0byByZWdpc3RlcnMgZm9yIEZvb3Rlci5jcwogICAgICAgICAgICBjb250ZXh0LkFtYmllbnRWYWx1ZXNbQ29uc3RhbnRzLlRoZW1lLlRhZ3MuSW5jbHVkZXNCb2R5XSA9IGluY2x1ZGVzLlRvU3RyaW5nKCk7CiAgICAgICAgICAgIGNvbnRleHQuQW1iaWVudFZhbHVlc1tDb25zdGFudHMuVGhlbWUuS2V5cy5SZWNhcHRjaGFJbmNsdWRlc10gPSBSZW5kZXJQYXJ0aWFsVmlldygifi9BcmVhcy9TaG9wL1ZpZXdzL1NoYXJlZC9fR29vZ2xlQ2FwdGNoYS5jc2h0bWwiKTsKICAgICAgICAgICAgY29udGV4dC5BbWJpZW50VmFsdWVzW0NvbnN0YW50cy5UaGVtZS5LZXlzLkJvdEJhbkxpbmtdID0gIi9hZG1pbmlzdHJhdGlvbi9kYXNoYm9hcmQvIjsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgdm9pZCBTZXRQYWdlVGVtcGxhdGVWYXJpYWJsZXMoSURpY3Rpb25hcnk8c3RyaW5nLCBvYmplY3Q+IHRlbXBsYXRlVmFyaWFibGVzLAogICAgICAgICAgICBJbnN0YWxsZWRUaGVtZSBpbnN0YWxsZWRUaGVtZSwgUGFnZUJhc2UgY3VycmVudFBhZ2UsIFRlbXBsYXRlQ29udGV4dCBjb250ZXh0KQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGNhdGVnb3J5VXNlciA9IFNlbGxlcjsKCiAgICAgICAgICAgIC8vIEdldCBjYXRlZ29yaWVzIHdpdGggcHVibGlzaGVkIHByb2R1Y3QgaWRzCiAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzID0gR2V0Q2F0ZWdvcmllcyhTZWxsZXIuSWQpOwoKICAgICAgICAgICAgLy8gR2V0IHBsYWNlaG9sZGVyIGNhdGVnb3JpZXMgaWYgcmVxdWlyZWQKICAgICAgICAgICAgaWYgKE1vZGUgIT0gVGhlbWVNb2RlVHlwZXMuTGl2ZSAmJiAhY2F0ZWdvcmllcy5BbnkoYyA9PiAhYy5Jc0NvcmVDYXRlZ29yeSgpIHx8IGMuUHJvZHVjdHMuQW55KCkpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gR2V0Q2F0ZWdvcmllcyhDb25zdGFudHMuVGhlbWUuRGVtb1BsYWNlaG9sZGVyU2hvcCk7CiAgICAgICAgICAgICAgICBjYXRlZ29yeVVzZXIgPSBfc2hvcFNlcnZpY2UuRmluZEJ5SWQoQ29uc3RhbnRzLlRoZW1lLkRlbW9QbGFjZWhvbGRlclNob3ApOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBHZXQgYWxsIHBhZ2VzCiAgICAgICAgICAgIHZhciBwYWdlcyA9IEdldFBhZ2VzKGluc3RhbGxlZFRoZW1lLCBTZWxsZXJJc0F1dGhlbnRpY2F0ZWQpOwoKICAgICAgICAgICAgLy8gR2V0IGFsbCB0ZW1wbGF0ZSB2YXJpYWJsZXMKICAgICAgICAgICAgdmFyIHZhcmlhYmxlcyA9IHRlbXBsYXRlVmFyaWFibGVzID8/IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgb2JqZWN0PigpOwoKICAgICAgICAgICAgLy8gQ2hlY2sgc2VsbGVyIGhhcyBhcHAKICAgICAgICAgICAgdmFyIGhhc0N1c3RvbURlc2lnbkFwcCA9IEFwcFJlZ2lzdHJ5SGVscGVyLklzQXBwSW5zdGFsbGVkKF9iYXNlQ29udHJvbGxlci5Db250cm9sbGVyQ29udGV4dCwgQ29uc3RhbnRzLkFwcHMuQ3VzdG9tRGVzaWduLCBTZWxsZXIuSWQsIGZhbHNlKTsKCiAgICAgICAgICAgIC8vIENvbW1vbiBkcm9wcyBmb3IgYWxsIHBhZ2VzCiAgICAgICAgICAgIHZhciBsaW5rc0Ryb3AgPSBuZXcgTGlua3NEcm9wKHBhZ2VzLCBjYXRlZ29yaWVzLCBpbnN0YWxsZWRUaGVtZS5UaGVtZSwgY3VycmVudFBhZ2UsIGNvbnRleHQpOwogICAgICAgICAgICB2YXJpYWJsZXMuQWRkU2FmZShDb25zdGFudHMuVGhlbWUuRHJvcHMuU3RvcmUsIFN0b3JlRHJvcC5NYXAoU2VsbGVyLCBfc2hvcFNlcnZpY2UuR2V0U2hvcEFuYWx5dGljcyhTZWxsZXIuSWQpLCBfYmFzZUNvbnRyb2xsZXIuR2V0QXBwUmVnaXN0cmllcyhTZWxsZXIuSWQpLCBfYmFzZUNvbnRyb2xsZXIuQ3VycmVudFVzZXIsIE1vZGUsIEZyYW1lLCBoYXNDdXN0b21EZXNpZ25BcHAsIGNvbnRleHQpKTsKICAgICAgICAgICAgdmFyaWFibGVzLkFkZFNhZmUoQ29uc3RhbnRzLlRoZW1lLkRyb3BzLkJsb2csIG5ldyBCbG9nRHJvcChfYmxvZ1NlcnZpY2UsIF90YWdnaW5nQmxvZ1NlcnZpY2UsIFNlbGxlciwgY29udGV4dCkpOwogICAgICAgICAgICB2YXJpYWJsZXMuQWRkU2FmZShDb25zdGFudHMuVGhlbWUuRHJvcHMuUGFnZSwgbmV3IFBhZ2VEcm9wKGN1cnJlbnRQYWdlLCBfdGhlbWluZ1NlcnZpY2UuR2V0VGVtcGxhdGVOYW1lKGN1cnJlbnRQYWdlLlBhZ2VQYXRoLCBjdXJyZW50UGFnZS5JZCwgaW5zdGFsbGVkVGhlbWUuVGhlbWUpID8/IENvbnN0YW50cy5UaGVtZS5UZW1wbGF0ZXMuTm90Rm91bmQsIGNvbnRleHQpKTsKICAgICAgICAgICAgdmFyaWFibGVzLkFkZFNhZmUoQ29uc3RhbnRzLlRoZW1lLkRyb3BzLkxpbmtzLCBuZXcgTGlua3NEcm9wKHBhZ2VzLCBjYXRlZ29yaWVzLCBpbnN0YWxsZWRUaGVtZS5UaGVtZSwgY3VycmVudFBhZ2UsIGNvbnRleHQpKTsKICAgICAgICAgICAgLy8gQ2F0ZWdvcmllcwogICAgICAgICAgICB2YXJpYWJsZXMuQWRkU2FmZShDb25zdGFudHMuVGhlbWUuRHJvcHMuQ2F0ZWdvcmllcywgbmV3IENhdGVnb3JpZXNEcm9wKGNhdGVnb3JpZXMsIF9zZWFyY2hTZXJ2aWNlLCBfZG93bmxvYWRTZXJ2aWNlLCBjYXRlZ29yeVVzZXIsIGNvbnRleHQpKTsKCiAgICAgICAgICAgIGZvcmVhY2ggKHZhciB2YXJpYWJsZSBpbiB2YXJpYWJsZXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnRleHQuU2V0VmFsdWUodmFyaWFibGUuS2V5LCB2YXJpYWJsZS5WYWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFNldENhdGVnb3J5QnJlYWRjcnVtYk1vZGVsKGNvbnRleHQpOwogICAgICAgIH0KCiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBTZXRDYXRlZ29yeUJyZWFkY3J1bWJNb2RlbChUZW1wbGF0ZUNvbnRleHQgY29udGV4dCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBsaW5rc0Ryb3BWYWx1ZSA9IGNvbnRleHQuR2V0VmFsdWUoQ29uc3RhbnRzLlRoZW1lLkRyb3BzLkxpbmtzKTsKICAgICAgICAgICAgaWYgKGxpbmtzRHJvcFZhbHVlLklzTmlsKCkpIHJldHVybjsKCiAgICAgICAgICAgIHZhciBsaW5rc0Ryb3AgPSAoTGlua3NEcm9wKSBsaW5rc0Ryb3BWYWx1ZS5Ub09iamVjdFZhbHVlKCk7CiAgICAgICAgICAgIHZhciBtYWluTWVudUxpbmtzID0gbGlua3NEcm9wLkR5bmFtaWNQcm9wZXJ0eSgibWFpbi1tZW51Iik7CiAgICAgICAgICAgIHZhciBjYXRlZ29yeUxpbmsgPSBtYWluTWVudUxpbmtzLkZpcnN0T3JEZWZhdWx0KGxpbmsgPT4gbGluay5QYWdlUGF0aCA9PSBDb25zdGFudHMuUGFnZXMuQ2F0ZWdvcmllc1BhZ2UuUGFnZVBhdGgpOwogICAgICAgICAgICBjb250ZXh0LlNldFZhbHVlKCJjYXRlZ29yaWVzX3BhZ2VfZW5hYmxlZCIsIGNhdGVnb3J5TGluayAhPSBudWxsKTsKICAgICAgICAgICAgY29udGV4dC5TZXRWYWx1ZSgiY2F0ZWdvcmllc19wYWdlX3RpdGxlIiwgY2F0ZWdvcnlMaW5rPy5UaXRsZSk7CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIHN0YXRpYyBzdHJpbmcgQWRkTWV0YURhdGEoc3RyaW5nIG5hbWUsIG9iamVjdCBjb250ZW50KQogICAgICAgIHsKICAgICAgICAgICAgdmFyIG1ldGEgPSBuZXcgVGFnQnVpbGRlcigibWV0YSIpOwogICAgICAgICAgICBtZXRhLkF0dHJpYnV0ZXMuQWRkKCJuYW1lIiwgbmFtZSk7CiAgICAgICAgICAgIG1ldGEuQXR0cmlidXRlcy5BZGQoImNvbnRlbnQiLCBDb252ZXJ0LlRvU3RyaW5nKGNvbnRlbnQpKTsKICAgICAgICAgICAgcmV0dXJuIG1ldGEuVG9TdHJpbmcoVGFnUmVuZGVyTW9kZS5TZWxmQ2xvc2luZyk7CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIGJvb2wgVXNlQ3VzdG9tRG9tYWluKCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChGcmFtZSAhPSBGcmFtZVR5cGVzLlVuZGVmaW5lZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RyaW5nLklzTnVsbE9yRW1wdHkoU2VsbGVyLlNob3BEb21haW4pIHx8ICFBcHBSZWdpc3RyeUhlbHBlci5Jc0FwcEluc3RhbGxlZChfYmFzZUNvbnRyb2xsZXIuQ29udHJvbGxlckNvbnRleHQsIENvbnN0YW50cy5BcHBzLkN1c3RvbURvbWFpbiwgU2VsbGVyLklkKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBUT0RPOiBVc2UgcmVsYXRpdmUgVVJMcyBzbyB3ZSBkb24ndCBuZWVkIHRoaXMgYXMgRE5TIGNoZWNrIG5lZWRzIHB1YmxpYyBhY2Nlc3MKICAgICAgICAgICAgaWYgKEVudmlyb25tZW50SGVscGVyLklzTG9jYWwoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBjaGVja0RvbWFpbiA9IF9kbnNTZXJ2aWNlLkNoZWNrRG9tYWluTmFtZShTZWxsZXIuU2hvcERvbWFpbik7CgogICAgICAgICAgICByZXR1cm4gY2hlY2tEb21haW4uSXNWYWxpZDsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgVGVtcGxhdGVDb250ZXh0IFNldEJsb2NrVGVtcGxhdGUoU2hvcCBzZWxsZXIsIFBhZ2VDb250ZW50IHBhZ2VDb250ZW50LCBJbnN0YWxsZWRUaGVtZSB0aGVtZUluc3RhbGxlZCwKICAgICAgICAgICAgVGVtcGxhdGVDb250ZXh0IGNvbnRleHQpCiAgICAgICAgewogICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBfdGhlbWluZ1NlcnZpY2UuSW5pdFRlbXBsYXRlKHRoZW1lSW5zdGFsbGVkLCBjb250ZXh0LCBzZWxsZXIpOwoKICAgICAgICAgICAgLy8gc3BlY2lmaWMgZm9yIHJlbmRlcmluZyBzaW5nbGUgY29udGVudCBibG9jawogICAgICAgICAgICB0ZW1wbGF0ZS5BbWJpZW50VmFsdWVzW0NvbnN0YW50cy5UaGVtZS5LZXlzLklzQmxvY2tSZW5kZXJdID0gdHJ1ZTsKCiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgc3RyaW5nIEdldFRlbXBsYXRlTmFtZShQYWdlQmFzZSBwYWdlLCBJbnN0YWxsZWRUaGVtZSB0aGVtZUluc3RhbGxlZCwgVGVtcGxhdGVDb250ZXh0IGNvbnRleHQpCiAgICAgICAgewogICAgICAgICAgICB2YXIgdGVtcGxhdGVOYW1lID0gcGFnZSA9PSBudWxsCiAgICAgICAgICAgICAgICA/IENvbnN0YW50cy5UaGVtZS5UZW1wbGF0ZXMuTm90Rm91bmQKICAgICAgICAgICAgICAgIDogX3RoZW1pbmdTZXJ2aWNlLkdldFRlbXBsYXRlTmFtZShwYWdlLlBhZ2VQYXRoLCBwYWdlLklkLCB0aGVtZUluc3RhbGxlZC5UaGVtZSk7CgogICAgICAgICAgICB2YXIgdGVtcGxhdGVGb3VuZCA9ICFzdHJpbmcuSXNOdWxsT3JFbXB0eSh0ZW1wbGF0ZU5hbWUpOwoKICAgICAgICAgICAgLy8gSWYgbm8gdGVtcGxhdGUgbmFtZSB3YXMgZm91bmQsIHVzZSB0aGUgNDA0CiAgICAgICAgICAgIGlmICghdGVtcGxhdGVGb3VuZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGVtcGxhdGVOYW1lID0gQ29uc3RhbnRzLlRoZW1lLlRlbXBsYXRlcy5Ob3RGb3VuZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBmaWxlLCBvciB0aGUgNDA0IGlmIHRoYXQgZmFpbGVkCiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUZpbGUgPSB0aGVtZUluc3RhbGxlZC5UaGVtZS5UZW1wbGF0ZXMuRmlyc3RPckRlZmF1bHQoZCA9PiBkLkZpbGVuYW1lID09IHRlbXBsYXRlTmFtZSkgPz8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lSW5zdGFsbGVkLlRoZW1lLlRlbXBsYXRlcy5GaXJzdE9yRGVmYXVsdChkID0+IGQuRmlsZW5hbWUgPT0gQ29uc3RhbnRzLlRoZW1lLlRlbXBsYXRlcy5Ob3RGb3VuZCk7CgoKICAgICAgICAgICAgaWYgKHRlbXBsYXRlRmlsZSA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU5hbWUgPSBDb25zdGFudHMuVGhlbWUuVGVtcGxhdGVzLk5vdEZvdW5kOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJZiBubyB0ZW1wbGF0ZSBmb3VuZCwgZGlzcGxheSB0aGUgbWVzc2FnZSB0byB0aGUgdXNlcgogICAgICAgICAgICBpZiAoIXRlbXBsYXRlRm91bmQgJiYgUmVuZGVyRWRpdG9yKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb250ZXh0LlNldFZhbHVlKENvbnN0YW50cy5UaGVtZS5LZXlzLkVycm9yTWVzc2FnZSwgTWVzc2FnZXMuVGhlbWVfVGVtcGxhdGVfTm90X1NldCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZU5hbWU7CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIHN0cmluZyBSZW5kZXJQYXJ0aWFsVmlldyhzdHJpbmcgdmlld05hbWUsIG9iamVjdCBwYXJ0aWFsVmlld01vZGVsID0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIF9iYXNlQ29udHJvbGxlci5WaWV3RGF0YS5Nb2RlbCA9IHBhcnRpYWxWaWV3TW9kZWw7CgogICAgICAgICAgICB2YXIgcmVzdWx0ID0gVmlld0VuZ2luZXMuRW5naW5lcy5GaW5kUGFydGlhbFZpZXcoX2Jhc2VDb250cm9sbGVyLkNvbnRyb2xsZXJDb250ZXh0LCB2aWV3TmFtZSk7CgogICAgICAgICAgICBpZiAocmVzdWx0LlZpZXcgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBzYiA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CgogICAgICAgICAgICB1c2luZyAodmFyIHN3ID0gbmV3IFN0cmluZ1dyaXRlcihzYikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHVzaW5nICh2YXIgb3V0cHV0ID0gbmV3IEh0bWxUZXh0V3JpdGVyKHN3KSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdmlld0NvbnRleHQgPSBuZXcgVmlld0NvbnRleHQoX2Jhc2VDb250cm9sbGVyLkNvbnRyb2xsZXJDb250ZXh0LCByZXN1bHQuVmlldywgX2Jhc2VDb250cm9sbGVyLlZpZXdEYXRhLCBfYmFzZUNvbnRyb2xsZXIuVGVtcERhdGEsIG91dHB1dCk7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LlZpZXcuUmVuZGVyKHZpZXdDb250ZXh0LCBvdXRwdXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gc2IuVG9TdHJpbmcoKTsKICAgICAgICB9Cg==</text>
      </register>
      <register name="9" type="4">
        <text encoding="base64">ICAgLy8gR2V0IGRvd25sb2FkIHNldHRpbmdzCiAgICAgICAgICAgIHZhciBkb3dubG9hZFNldHRpbmdzID0gaXNQbGFjZWhvbGRlciA/IFNlbGxlci5TZXR0aW5ncy5HZXREb3dubG9hZFNldHRpbmdzKCkgOiBfZG93bmxvYWRTZXJ2aWNlLkdldERvd25sb2FkU2V0dGluZ3MoU2VsbGVyLklkKTsKCiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IFRlbXBsYXRlQ29udGV4dCgpOwogICAgICAgICAgICB2YXIgdGVtcGxhdGVWYXJpYWJsZXMgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIG9iamVjdD4KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgeyBDb25zdGFudHMuVGhlbWUuRHJvcHMuSXRlbSwgUHJvZHVjdERyb3AuTWFwKHByb2R1Y3QsIGRvd25sb2FkU2V0dGluZ3MsIFNlbGxlciwgY29udGV4dCwgU2VsbGVyLkdldFNob3BNZWRpYVNldHRpbmdzKCkuU3F1YXJlUHJvZHVjdERldGFpbEltYWdlcykgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmV0dXJuIFJlbmRlcihwcm9kdWN0UGFnZSwgdGVtcGxhdGVWYXJpYWJsZXMsIGluc3RhbmNlVmFyaWFibGVzLCB0ZW1wbGF0ZUNvbnRleHQ6IGNvbnRleHQpOwogICAgICAgIH0=</text>
      </register>
      <register name="-" type="4">
        <text>private</text>
      </register>
      <register name="/" type="4">
        <text encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</text>
      </register>
    </registers>
    <search>
      <last-search encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</last-search>
      <last-offset />
      <last-pattern encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</last-pattern>
      <last-replace>~</last-replace>
      <last-substitute encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</last-substitute>
      <last-dir>1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry encoding="base64">XDxIdG1sU3RyaW5nXD4=</entry>
        <entry encoding="base64">XDxTdHJpbmdIdG1sQ29udGVudFw+</entry>
        <entry encoding="base64">XDxhbmFseXRpY3NcPg==</entry>
        <entry encoding="base64">XDxfbWVtb3J5Q2FjaGVDbGllbnRcPg==</entry>
        <entry encoding="base64">XDxfZ29vZ2xlU2V0dGluZ3NcPg==</entry>
        <entry encoding="base64">XDxfaG9zdGluZ1w+</entry>
        <entry encoding="base64">XDxfYnVuZGxlSGVscGVyXD4=</entry>
        <entry encoding="base64">XDxTY3JlZW5SZWFkZXJPbmx5XD4=</entry>
        <entry encoding="base64">XDxJbnN0YWxsZWRUaGVtZVw+</entry>
        <entry encoding="base64">XDxTZWx6XD4=</entry>
        <entry encoding="base64">XDxHZXRQYWdlXD4=</entry>
        <entry>inter</entry>
        <entry encoding="base64">XDxlZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxFZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</entry>
        <entry encoding="base64">XDxibG9ja1NldHRpbmdcPg==</entry>
        <entry encoding="base64">XDx2YWx1ZVRva2VuXD4=</entry>
        <entry encoding="base64">XDxfcGFnZVNlcnZpY2VcPg==</entry>
        <entry encoding="base64">XDxtb2NrQ29sbGVjdGlvblw+</entry>
        <entry encoding="base64">XDxJTW9uZ29Db2xsZWN0aW9uXD4=</entry>
      </history-search>
      <history-cmd />
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed C</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed S</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Y</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed X</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed W</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>