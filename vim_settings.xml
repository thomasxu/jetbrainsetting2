<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Mvc/Helpers/GenericHtmlHelper.cs" timestamp="1563613884723">
        <mark key="[" line="623" column="0" />
        <mark key="]" line="623" column="0" />
        <mark key="^" line="623" column="40" />
        <mark key="." line="623" column="0" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" timestamp="1563663843780">
        <mark key="'" line="389" column="134" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/ShopBaseController.cs" timestamp="1563623570484">
        <mark key="[" line="258" column="1" />
        <mark key="]" line="258" column="0" />
        <mark key="." line="258" column="0" />
        <mark key="^" line="526" column="9" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/EditableRegion.cs" timestamp="1563626925899">
        <mark key="'" line="28" column="27" />
      </file>
      <file name="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/ThemeRenderer.cs" timestamp="1563624250891">
        <mark key="[" line="1019" column="0" />
        <mark key="]" line="1026" column="15" />
        <mark key="^" line="1026" column="15" />
        <mark key="." line="1026" column="15" />
      </file>
      <file name="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/B095A56F-3BE0-40CD-8205-081672035163/18/a9845b13/FluidGrammar.cs" timestamp="1563624436640">
        <mark key="'" line="63" column="23" />
      </file>
    </filemarks>
    <jumps>
      <jump line="62" column="87" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Helpers/JavaScriptHelper.cs" />
      <jump line="20" column="8" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/ProductVariantDrop.cs" />
      <jump line="64" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="100" column="20" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="110" column="24" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="120" column="24" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="126" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="140" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="141" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="147" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="190" column="38" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/FormBlock.cs" />
      <jump line="124" column="45" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/12891E82-5FCE-44A5-81E5-BBBB579C1D49/ae/2ddc614c/JsonSerializerSettings.cs" />
      <jump line="384" column="19" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="204" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="219" column="63" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="37" column="21" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Domains/Themes/InstalledTheme.cs" />
      <jump line="81" column="16" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="34" column="27" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/GoogleWrappers/GoogleCaptcha.cs" />
      <jump line="59" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Extensions/ProductExtensions.cs" />
      <jump line="43" column="9" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Extensions/ProductExtensions.cs" />
      <jump line="375" column="9" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="229" column="43" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="164" column="8" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="20" column="99" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/SearchDrop.cs" />
      <jump line="54" column="23" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="109" column="36" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="224" column="32" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="73" column="27" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="121" column="15" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/BlogDrop.cs" />
      <jump line="103" column="45" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/StoreDrop.cs" />
      <jump line="91" column="67" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/StoreDrop.cs" />
      <jump line="57" column="47" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Infrastructure/Security/CurrentUser.cs" />
      <jump line="227" column="5" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/StoreDrop.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/StoreDrop.cs" />
      <jump line="22" column="7" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Domains/Apps/PaypalAppSettings.cs" />
      <jump line="26" column="24" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Domains/Apps/AppRegistry.cs" />
      <jump line="63" column="34" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/SocialLinkDrop.cs" />
      <jump line="16" column="40" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/TagPageDrop.cs" />
      <jump line="36" column="47" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/TagDrop.cs" />
      <jump line="101" column="29" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Mvc/Helpers/JavaScriptHelper.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Mvc/Helpers/JavaScriptHelper.cs" />
      <jump line="31" column="44" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/GoogleWrappers/IGoogleWebFonts.cs" />
      <jump line="51" column="12" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/GoogleWrappers/IGoogleWebFonts.cs" />
      <jump line="89" column="8" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/GoogleWrappers/IGoogleWebFonts.cs" />
      <jump line="28" column="41" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/GoogleWrappers/IGoogleWebFonts.cs" />
      <jump line="139" column="56" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Helpers/EnvironmentHelper.cs" />
      <jump line="15" column="45" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Helpers/EnvironmentHelper.cs" />
      <jump line="19" column="12" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Helpers/EnvironmentHelper.cs" />
      <jump line="579" column="34" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="14" column="39" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Helpers/Bundles.cs" />
      <jump line="869" column="19" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="465" column="28" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Core/Constants.cs" />
      <jump line="688" column="38" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/GenericHtmlHelper.cs" />
      <jump line="68" column="21" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Controllers/FluidRendering.cs" />
      <jump line="145" column="58" filename="C:/dev/git/selz/UI.Shop/src/Selz.Shop.Mvc/Helpers/DrachmaUrlHelper.cs" />
      <jump line="514" column="32" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Areas/Shop/Controllers/HomeController.cs" />
      <jump line="79" column="25" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/CD244751-0325-4121-9FE0-724DAFC7E191/9a/538fb143/UrlHelperExtensions.cs" />
      <jump line="663" column="8" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Controllers/ShopBaseController.cs" />
      <jump line="88" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Helpers/DrachmaUrlHelper.cs" />
      <jump line="83" column="31" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/ThemeRenderer.cs" />
      <jump line="47" column="30" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/708471A1-09B7-4562-BB54-869632C6440F/a7/6c1ab3ba/OpenIdConnectAuthenticationExtensions.cs" />
      <jump line="75" column="11" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/829CD8EB-ED93-4A0D-A893-91D47CD94E39/e9/59073b30/TokenClient.cs" />
      <jump line="23" column="39" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Models/ThemeDrop/FormDrop.cs" />
      <jump line="195" column="35" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/BlockBase.cs" />
      <jump line="194" column="34" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Tags/BlockBase.cs" />
      <jump line="110" column="25" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="0" column="0" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="104" column="6" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/21520621-5D58-4DD7-BA95-8B2615677B15/86/abcbcd83/StrFTime.cs" />
      <jump line="767" column="38" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="965" column="0" filename="C:/dev/git/selz/UI.Shop/src/Selz.UI.Shop/Services/Theming/Filters/SelzLiquidFilter.cs" />
      <jump line="382" column="30" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Controllers/BaseController.cs" />
      <jump line="249" column="33" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Extensions/S3Extension.cs" />
      <jump line="39" column="60" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Extensions/SelzSecretManagerExtensions.cs" />
      <jump line="114" column="16" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/BlogPostsController.cs" />
      <jump line="72" column="8" filename="C:/dev/git/selz/Services.Contact/Service/src/Api/Selz.Contacts.Api/Controllers/ContactsController.cs" />
      <jump line="92" column="29" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="127" column="25" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="132" column="30" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Controllers/PagesController.cs" />
      <jump line="28" column="7" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="34" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="7" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="0" column="0" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Client/IPageApi.cs" />
      <jump line="95" column="44" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Tagging/TaggingService.cs" />
      <jump line="16" column="35" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Core/Services/Blog/IBlogService.cs" />
      <jump line="71" column="83" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/DataAnnotation/RequiredIfAttribute.cs" />
      <jump line="169" column="45" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/366F296F-670D-4283-BC11-860CD6D4BAEC/db/087fefce/AbstractValidator`1.cs" />
      <jump line="32" column="32" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Api/Validators/BlogPostValidator.cs" />
      <jump line="15" column="48" filename="C:/dev/git/selz/Services.Shop/Service/src/Api/Selz.Shops.Contracts/BlogPosts/BlogPostRequest.cs" />
      <jump line="55" column="30" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/5ACA63E1-5879-4E37-A863-9E1D55811905/d8/bc779c17/FluentValidationMvcExtensions.cs" />
      <jump line="40" column="24" filename="$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/7377099D-91F7-42A7-BB89-6982E405EFBF/1/Log.cs" />
      <jump line="28" column="27" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/EditableRegion.cs" />
      <jump line="63" column="23" filename="$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/B095A56F-3BE0-40CD-8205-081672035163/18/a9845b13/FluidGrammar.cs" />
      <jump line="389" column="134" filename="C:/dev/git/selz/drachma/src/Drachma.Web/Core/Services/Theming/Tags/BlockBase.cs" />
    </jumps>
    <registers>
      <register name="0" type="2">
        <text encoding="base64">ICAgICAgICBbRmFjdChTa2lwID0gIlRoZXJlIGlzIHBlcm1pc3Npb24gaXNzdWUgd2hlbiBkZWxldGUgYSBzMyBwYXRoIHdpbGwgZW5hYmxlIGl0IHVudGlsIG9wcyBzb2x2ZSBpdCIpXQo=</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">ICAgICAgICAgICAgCg==</text>
      </register>
      <register name="2" type="4">
        <text encoding="base64">IAogICAgICAgICAgICA=</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">ICAgICAgICAgICAgTG9nZ2VyID0gTnVsbExvZ2dlci5JbnN0YW5jZTsK</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">CiAgICAgIAogICAgfQo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgICAgICAjZW5kcmVnaW9uCg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">CiAgICAgICAgI3JlZ2lvbiBTaGFyZWQgTWV0aG9kcyAoU2hvcCAmIENoZWNrb3V0KQogICAgICAgIHByb3RlY3RlZCB2b2lkIFZhbGlkYXRlQ2hlY2tvdXRJdGVtKENoZWNrb3V0SXRlbVZpZXdNb2RlbCBjYXJ0SXRlbSwgUHJvZHVjdCBwcm9kdWN0LCBQcm9kdWN0RGlzY291bnQgZGlzY291bnQsIHN0cmluZyBwYXlLZXksIGJvb2wgYWRkVG9DYXJ0ID0gZmFsc2UpCiAgICAgICAgewogICAgICAgICAgICAvLyAxKSBQcm9kdWN0IHZhbGlkYXRpb24KICAgICAgICAgICAgaWYgKHByb2R1Y3QgPT0gbnVsbCB8fCAhcHJvZHVjdC5Jc1B1Ymxpc2hlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQWRkT3JkZXJJdGVtRXJyb3IoTWVzc2FnZXMuT3JkZXJfSXRlbV9Ob3RGb3VuZCwgY2FydEl0ZW0uSW5kZXgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAyKSBRdWFudGl0eSBWYWxpZGF0aW9uCiAgICAgICAgICAgIGlmIChjYXJ0SXRlbS5RdWFudGl0eSA8PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBBZGRPcmRlckl0ZW1FcnJvcihzdHJpbmcuRm9ybWF0KE1lc3NhZ2VzLlZhbGlkYXRpb25fTWluLCBMYWJlbHMuR2xvYmFsX1F1YW50aXR5LCAxKSwgY2FydEl0ZW0uSW5kZXgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY2FydEl0ZW0uUXVhbnRpdHkgPiBQcm9kdWN0U2V0dGluZ3MuTWF4T3JkZXJJdGVtUXVhbnRpdHkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIEFkZE9yZGVySXRlbUVycm9yKHN0cmluZy5Gb3JtYXQoTWVzc2FnZXMuVmFsaWRhdGlvbl9NYXgsIExhYmVscy5HbG9iYWxfUXVhbnRpdHksIFByb2R1Y3RTZXR0aW5ncy5NYXhPcmRlckl0ZW1RdWFudGl0eSksIGNhcnRJdGVtLkluZGV4KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gMykgVmFyaWFudCBWYWxpZGF0aW9uCiAgICAgICAgICAgIHZhciB2YXJpYW50ID0gcHJvZHVjdC5HZXRWYXJpYW50KGNhcnRJdGVtLlZhcmlhbnRJZCk7CiAgICAgICAgICAgIGlmIChhZGRUb0NhcnQgJiYgcHJvZHVjdC5IYXNWYXJpYW50cyAmJiB2YXJpYW50ID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIEFkZE9yZGVySXRlbUVycm9yKHN0cmluZy5Gb3JtYXQoTWVzc2FnZXMuVmFsaWRhdGlvbl9SZXF1aXJlZCwgTGFiZWxzLkdsb2JhbF9WYXJpYW50SWQpLCBjYXJ0SXRlbS5JbmRleCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFZhbGlkYXRlT3JkZXJJdGVtUXVhbnRpdHkoY2FydEl0ZW0sIHByb2R1Y3QsIGRpc2NvdW50LCB2YXJpYW50LCBwYXlLZXkpOwoKICAgICAgICAgICAgaWYgKCFNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gNCkgUHJpY2UgVmFsaWRhdG9yCiAgICAgICAgICAgIGlmIChwcm9kdWN0LklzUHJpY2VGbGV4aWJsZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIG1pblByaWNlID0gT3JkZXJJdGVtLkdldE1pblByaWNlKHByb2R1Y3QsIHZhcmlhbnQsIGRpc2NvdW50Py5EaXNjb3VudEluZm8pOwoKICAgICAgICAgICAgICAgIGlmIChtaW5QcmljZSA9PSAwICYmIGNhcnRJdGVtLkJ1eWVyc1VuaXRQcmljZSA8IDAuOTltICYmIGNhcnRJdGVtLkJ1eWVyc1VuaXRQcmljZSA+IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy9BZGRPcmRlckl0ZW1FcnJvcihzdHJpbmcuRm9ybWF0KE1lc3NhZ2VzLlZhbGlkYXRpb25fTWluLCBMYWJlbHMuUHJvZHVjdEVkaXRNb2RlbF9QcmljZSwgbWluUHJpY2UuVG9DdXJyZW5jeShwcm9kdWN0LkN1cnJlbmN5LkN1cnJlbmN5U3ltYm9sKSwgKDEpLlRvQ3VycmVuY3kocHJvZHVjdC5DdXJyZW5jeS5DdXJyZW5jeVN5bWJvbCkpKTsKICAgICAgICAgICAgICAgICAgICBBZGRPcmRlckl0ZW1FcnJvcihzdHJpbmcuRm9ybWF0KE1lc3NhZ2VzLlZhbGlkYXRpb25fTWluLCBMYWJlbHMuUHJvZHVjdEVkaXRNb2RlbF9QcmljZSwgbWluUHJpY2UuVG9DdXJyZW5jeShwcm9kdWN0LkN1cnJlbmN5LkN1cnJlbmN5Q29kZSkpLCBjYXJ0SXRlbS5JbmRleCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChjYXJ0SXRlbS5CdXllcnNVbml0UHJpY2UgPCBtaW5QcmljZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBBZGRPcmRlckl0ZW1FcnJvcihzdHJpbmcuRm9ybWF0KE1lc3NhZ2VzLlZhbGlkYXRpb25fTWluLCBMYWJlbHMuUHJvZHVjdEVkaXRNb2RlbF9QcmljZSwgbWluUHJpY2UuVG9DdXJyZW5jeShwcm9kdWN0LkN1cnJlbmN5LkN1cnJlbmN5Q29kZSkpLCBjYXJ0SXRlbS5JbmRleCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyA1KSBMb2NhdGlvbiB2YWxpZGF0b3IgKG9ubHkgZm9yIGRpZ2l0YWwgcHJvZHVjdHMpCiAgICAgICAgICAgIGlmIChwcm9kdWN0LklzRGlnaXRhbERvd25sb2FkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBHZXQgYnV5ZXJzIGlwIGFkZHJlc3MKICAgICAgICAgICAgICAgIHZhciBpcCA9IFJlcXVlc3QuSXBYRm9yd2FyZGVkRm9yKCk7CgogICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hpY2ggY291bnRyeSBkb2VzIHRoZSBpcCBiZWxvbmdzIHRvCiAgICAgICAgICAgICAgICB2YXIgY291bnRyeSA9IENvdW50cnlTZXJ2aWNlLkdldENvdW50cnlGcm9tSXAoaXAsIG91dCBib29sIF8pOwogICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gY291bnRyeS5Ud29MZXR0ZXJJU09SZWdpb25OYW1lOwoKICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvdW50cnkgaXMgYmxvY2tlZAogICAgICAgICAgICAgICAgdmFyIHRheFNldHRpbmdzID0gU2hvcFNlcnZpY2UuR2V0U2V0dGluZ3NCeUlkKHByb2R1Y3QuU2hvcElkKS5HZXRUYXhTZXR0aW5ncygpOwogICAgICAgICAgICAgICAgdmFyIGJsb2NrZWRDb3VudHJpZXMgPSB0YXhTZXR0aW5ncy5CbG9ja2VkQ291bnRyaWVzID8/IG5ldyBMaXN0PHN0cmluZz4oKTsKCiAgICAgICAgICAgICAgICBpZiAoYmxvY2tlZENvdW50cmllcy5Db250YWlucyhjb3VudHJ5Q29kZSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQWRkT3JkZXJJdGVtRXJyb3IoTWVzc2FnZXMuUGF5bWVudF9SZXNwb25zZV9HZW9fQmxvY2tlZCwgY2FydEl0ZW0uSW5kZXgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIHZvaWQgVmFsaWRhdGVPcmRlckl0ZW1RdWFudGl0eShDaGVja291dEl0ZW1WaWV3TW9kZWwgb3JkZXJJdGVtLCBQcm9kdWN0IHByb2R1Y3QsIFByb2R1Y3REaXNjb3VudCBkaXNjb3VudCwgUHJvZHVjdFZhcmlhbnQgdmFyaWFudCwgc3RyaW5nIHBheUtleSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIDEpIFF1YW50aXR5IFZhbGlkYXRpb24KICAgICAgICAgICAgLy8gQ2FzZSBvZiBpdGVtIHdpdGggMSBpbiBzdG9jayBsZWZ0CiAgICAgICAgICAgIC8vIElmIHVzZXIgcmVzZXJ2ZWQgc3RvY2sgd2l0aCBwYXlwYWwgYW5kIGNoYW5nZWQgbWluZCB0byBjaGVja291dCB3aXRoIGNyZWRpdCBjYXJkCiAgICAgICAgICAgIHZhciByZXNlcnZlZFF1YW50aXR5ID0gMDsKICAgICAgICAgICAgdmFyIHJlc2VydmVkUXVhbnRpdHlWYXJpYW50ID0gMDsKICAgICAgICAgICAgdmFyIHJlc2VydmVkUXVhbnRpdHlEaXNjb3VudCA9IDA7CgogICAgICAgICAgICBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KHBheUtleSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciByZXNlcnZlZE9yZGVyID0gT3JkZXJTZXJ2aWNlLkdldEJ5UGF5S2V5KHBheUtleSk7CiAgICAgICAgICAgICAgICBpZiAocmVzZXJ2ZWRPcmRlciAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlc2VydmVkUXVhbnRpdHkgPSByZXNlcnZlZE9yZGVyLkl0ZW1zLldoZXJlKGkgPT4gaS5Qcm9kdWN0LklkID09IG9yZGVySXRlbS5JZCkuU3VtKGkgPT4gaS5RdWFudGl0eSk7CgogICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYW50ICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXJ2ZWRWYXJpYW50cyA9IHJlc2VydmVkT3JkZXIuSXRlbXMuV2hlcmUoaSA9PiBpLlZhcmlhbnQgIT0gbnVsbCAmJiBpLlZhcmlhbnQuSWQgPT0gdmFyaWFudC5JZCkuVG9MaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNlcnZlZFZhcmlhbnRzLkFueSgpKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZlZFF1YW50aXR5VmFyaWFudCA9IHJlc2VydmVkVmFyaWFudHMuU3VtKGkgPT4gaS5RdWFudGl0eSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudCAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZG91YmxlIGNoZWNrIHRoaXMgLSBzYW1lIGRpc2NvdW50IGNvZGUgZm9yIG11bHRpcGxlIHByb2R1Y3RzCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNlcnZlZERpc2NvdW50cyA9IHJlc2VydmVkT3JkZXIuSXRlbXMuV2hlcmUoaSA9PiBpLkRpc2NvdW50LkRpc2NvdW50Q29kZSA9PSBvcmRlckl0ZW0uRGlzY291bnRDb2RlKS5Ub0xpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2VydmVkRGlzY291bnRzLkFueSgpKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZlZFF1YW50aXR5RGlzY291bnQgPSByZXNlcnZlZERpc2NvdW50cy5TdW0oaSA9PiBpLlF1YW50aXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gYSkgdmFyaWFudCBzb2xkIG91dAogICAgICAgICAgICBpZiAodmFyaWFudD8uUXVhbnRpdHlBdmFpbGFibGUgIT0gbnVsbCAmJiB2YXJpYW50LlF1YW50aXR5QXZhaWxhYmxlICsgcmVzZXJ2ZWRRdWFudGl0eVZhcmlhbnQgPCAxKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBBZGRPcmRlckl0ZW1FcnJvcihNZXNzYWdlcy5PcmRlcl9WYXJpYW50X1NvbGQsIG9yZGVySXRlbS5JbmRleCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFVubGltaXRlZCBxdWFudGl0eSBieSBkZWZhdWx0CiAgICAgICAgICAgIGludD8gcXVhbnRpdHlBdmFpbGFibGUgPSBudWxsOwoKICAgICAgICAgICAgLy8gSWYgbGltaXRlZCBpdGVtIHB1cmNoYXNlLCBxdWFudGl0eUF2YWlsYWJsZSBpcyBQcm9kdWN0LlF1YW50aXR5QXZhaWxhYmxlCiAgICAgICAgICAgIGlmICh2YXJpYW50ID09IG51bGwgJiYgcHJvZHVjdC5RdWFudGl0eUF2YWlsYWJsZS5IYXNWYWx1ZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcXVhbnRpdHlBdmFpbGFibGUgPSBwcm9kdWN0LlF1YW50aXR5QXZhaWxhYmxlLlZhbHVlICsgcmVzZXJ2ZWRRdWFudGl0eTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBJZiBsaW1pdGVkIGl0ZW0gdmFyaWFudCBwdXJjaGFzZSwgcXVhbnRpdHlBdmFpbGFibGUgaXMgVmFyaWFudC5RdWFudGl0eUF2YWlsYWJsZQogICAgICAgICAgICBlbHNlIGlmICh2YXJpYW50Py5RdWFudGl0eUF2YWlsYWJsZSAhPSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBxdWFudGl0eUF2YWlsYWJsZSA9IHZhcmlhbnQuUXVhbnRpdHlBdmFpbGFibGUuVmFsdWUgKyByZXNlcnZlZFF1YW50aXR5VmFyaWFudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSWYgbGltaXRlZCBkaXNjb3VudCBpdGVtIHB1cmNoYXNlCiAgICAgICAgICAgIHZhciBpc0Rpc2NvdW50UXVhbnRpdHlMaW1pdGVkID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChkaXNjb3VudD8uUXVhbnRpdHlBdmFpbGFibGUgIT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50UXVhbnRpdHkgPSBkaXNjb3VudC5RdWFudGl0eUF2YWlsYWJsZS5WYWx1ZSArIHJlc2VydmVkUXVhbnRpdHlEaXNjb3VudDsKCiAgICAgICAgICAgICAgICAvLyBJZiBxdWFudGl0eSBhdmFpbGFibGUgaXMgbGltaXRlZCB0YWtlIHdoaWNoZXZlciBxdWFudGl0eSBpcyBzbWFsbGVyIChkaXNjb3VudCBvciBwcm9kdWN0KQogICAgICAgICAgICAgICAgcXVhbnRpdHlBdmFpbGFibGUgPSBxdWFudGl0eUF2YWlsYWJsZS5IYXNWYWx1ZQogICAgICAgICAgICAgICAgICAgID8gTWF0aC5NaW4ocXVhbnRpdHlBdmFpbGFibGUuVmFsdWUsIGRpc2NvdW50UXVhbnRpdHkpCiAgICAgICAgICAgICAgICAgICAgOiBkaXNjb3VudFF1YW50aXR5OwoKICAgICAgICAgICAgICAgIGlzRGlzY291bnRRdWFudGl0eUxpbWl0ZWQgPSBxdWFudGl0eUF2YWlsYWJsZSA9PSBkaXNjb3VudFF1YW50aXR5OwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBiKSBvcmRlciBleGNlZWRzIHN0b2NrIGF2YWxpYWJsZSAKICAgICAgICAgICAgaWYgKHF1YW50aXR5QXZhaWxhYmxlLkhhc1ZhbHVlICYmIG9yZGVySXRlbS5RdWFudGl0eSA+IHF1YW50aXR5QXZhaWxhYmxlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGlzRGlzY291bnRRdWFudGl0eUxpbWl0ZWQKICAgICAgICAgICAgICAgICAgICA/IHF1YW50aXR5QXZhaWxhYmxlLlZhbHVlID09IDAgPyBNZXNzYWdlcy5WYWxpZGF0aW9uX0Rpc2NvdW50Q29kZV9Ob3RBdmFpbGFibGUgOiBNZXNzYWdlcy5PcmRlcl9EaXNjb3VudF9RdWFudGl0eV9NYXhfRXJyb3IKICAgICAgICAgICAgICAgICAgICA6IE1lc3NhZ2VzLk9yZGVyX1F1YW50aXR5X01heF9FcnJvcjsKCiAgICAgICAgICAgICAgICBBZGRPcmRlckl0ZW1FcnJvcihzdHJpbmcuRm9ybWF0KG1lc3NhZ2UsIHF1YW50aXR5QXZhaWxhYmxlLlZhbHVlLlBsdXJhbGlzZShUZXh0cy5JdGVtLCBUZXh0cy5JdGVtcykuVG9Mb3dlcigpKSwgb3JkZXJJdGVtLkluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIHZvaWQgQWRkT3JkZXJJdGVtRXJyb3Ioc3RyaW5nIG1lc3NhZ2UsIEd1aWQ/IGluZGV4ID0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChpbmRleC5IYXNWYWx1ZSAmJiBpbmRleC5WYWx1ZSAhPSBHdWlkLkVtcHR5KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBNb2RlbFN0YXRlLkFkZE1vZGVsRXJyb3Ioc3RyaW5nLkZvcm1hdChPcmRlckl0ZW1WYWxpZGF0b3JJZCwgaW5kZXgpLCBtZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIE1vZGVsU3RhdGUuQWRkTW9kZWxFcnJvcihPcmRlclZhbGlkYXRvcklkLCBtZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIFByb2R1Y3REaXNjb3VudCBHZXRJdGVtRGlzY291bnQoUHJvZHVjdCBwcm9kdWN0LCBQcm9kdWN0RGlzY291bnQgZGlzY291bnQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoZGlzY291bnQgPT0gbnVsbCB8fCBkaXNjb3VudC5UYXJnZXRUeXBlID09IERpc2NvdW50VHlwZXMuT3JkZXIgfHwgIXByb2R1Y3QuQ2FuQXBwbHlQcm9kdWN0RGlzY291bnQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocHJvZHVjdC5Jc1ByaWNlRmxleGlibGUgJiYgIWRpc2NvdW50LkRpc2NvdW50SW5mby5Jc0ZyZWVTaGlwcGluZykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkaXNjb3VudC5Jc0N1cnJlbmN5UmVxdWlyZWQgJiYgZGlzY291bnQuQ3VycmVuY3kuQ3VycmVuY3lDb2RlICE9IHByb2R1Y3QuQ3VycmVuY3kuQ3VycmVuY3lDb2RlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRpc2NvdW50OwogICAgICAgIH0KICAgICAgICAjZW5kcmVnaW9uCgogICAgICAgICNyZWdpb24gUmVxdWVzdCBWZWxvY2l0eQogICAgICAgIHByaXZhdGUgdm9pZCBJbmNyZWFzZVJlcXVlc3RGb3JTaG9wKGludCB1c2VySWQsIERhdGVUaW1lIHNsaWRpbmdFeHBpcmF0aW9uKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGF0dGVtcHRzID0gR2V0UmVxdWVzdEZvclNob3AodXNlcklkKTsKICAgICAgICAgICAgdmFyIGtleSA9IHN0cmluZy5Gb3JtYXQoUmVxdWVzdFZlbG9jaXR5U2hvcEtleSwgdXNlcklkKTsKCiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBSZWRpc0NhY2hlQ2xpZW50LlNldChrZXksIDEsIHNsaWRpbmdFeHBpcmF0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFJlZGlzQ2FjaGVDbGllbnQuSW5jcmVtZW50KGtleSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHByaXZhdGUgaW50IEdldFJlcXVlc3RGb3JTaG9wKGludCB1c2VySWQpCiAgICAgICAgewogICAgICAgICAgICBpZiAodXNlcklkIDwgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAvL1Nob3VsZCBub3QgZmFpbCBidXQgbG9nIGF0IGxlYXN0IHdoeSB3ZSBwYXNzaW5nIDAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGtleSA9IHN0cmluZy5Gb3JtYXQoUmVxdWVzdFZlbG9jaXR5U2hvcEtleSwgdXNlcklkKTsKICAgICAgICAgICAgdmFyIGF0dGVtcHRzID0gUmVkaXNDYWNoZUNsaWVudC5HZXQ8c3RyaW5nPihrZXkpOwoKICAgICAgICAgICAgYXR0ZW1wdHMgPSBzdHJpbmcuSXNOdWxsT3JFbXB0eShhdHRlbXB0cykgPyAiMCIgOiBhdHRlbXB0czsKCiAgICAgICAgICAgIHJldHVybiBpbnQuUGFyc2UoYXR0ZW1wdHMpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGJvb2wgSGFkVG9vTWFueVJlcXVlc3RzKHN0cmluZyBzaG9wVXNlcktleSkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBzaG9wQmxvY2tlZEtleSA9IHNob3BVc2VyS2V5OwogICAgICAgICAgICB2YXIgc2hvcEJsb2NrZWQgPSBSZWRpc0NhY2hlQ2xpZW50LkdldDxib29sPihzaG9wQmxvY2tlZEtleSk7CgogICAgICAgICAgICBpZiAoc2hvcEJsb2NrZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbCBDaGVja1Nob3BSZXF1ZXN0VmVsb2NpdHkoU2hvcEVudGl0eSBzaG9wLCBzdHJpbmcgc2hvcFVzZXJLZXkpCiAgICAgICAgewogICAgICAgICAgICBpZiAoc2hvcC5Jc1RydXN0ZWQgfHwgc2hvcC5Jc1NlbHpQYXlWZXJpZmllZCB8fCBzaG9wLkFjY291bnRUeXBlID09IFNob3BBY2NvdW50VHlwZS5pWmV0dGxlKSByZXR1cm4gZmFsc2U7CgogICAgICAgICAgICB2YXIgY3VycmVudFBsYW5JZCA9IFN1YnNjcmlwdGlvblNlcnZpY2UuR2V0Q3VycmVudFBsYW5JZChzaG9wLklkKTsKICAgICAgICAgICAgdmFyIGlzUGxhblNlbGVjdGVkID0gY3VycmVudFBsYW5JZCAhPSBPYmplY3RJZC5FbXB0eS5Ub1N0cmluZygpICYmIGN1cnJlbnRQbGFuSWQgIT0gQ29uc3RhbnRzLlBsYW5zLk5vU3RyaXBlQ3VzdG9tZXIuVG9TdHJpbmcoKTsKCiAgICAgICAgICAgIGlmIChpc1BsYW5TZWxlY3RlZCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgdmFyIG1heFJlcXVlc3RzQ291bnQgPSBDb25zdGFudHMuSXBCbG9jay5TaG9wQXV0b0Jsb2NrUmVxdWVzdENvdW50OwogICAgICAgICAgICB2YXIgbWF4UmVxdWVzdHNJbnRlcnZhbCA9IENvbnN0YW50cy5JcEJsb2NrLlNob3BBdXRvQmxvY2tSZXF1ZXN0SW50ZXJ2YWw7CgogICAgICAgICAgICBJbmNyZWFzZVJlcXVlc3RGb3JTaG9wKHNob3AuSWQsIERhdGVUaW1lLlV0Y05vdy5BZGRNaW51dGVzKDEpKTsKCiAgICAgICAgICAgIHZhciByZXF1ZXN0c0NvdW50ID0gR2V0UmVxdWVzdEZvclNob3Aoc2hvcC5JZCk7CgogICAgICAgICAgICBpZiAocmVxdWVzdHNDb3VudCA+PSBtYXhSZXF1ZXN0c0NvdW50KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBMb2dnZXIuRXJyb3JPbGQoJCJTaG9wIFJlcXVlc3QgYWJvdmUgcmF0ZSBsaW1pdCAtIHttYXhSZXF1ZXN0c0NvdW50fSByZXF1ZXN0IHdpdGhpbiB7bWF4UmVxdWVzdHNJbnRlcnZhbH0gbWluIChTZWxsZXI6IHtzaG9wLklkfSkiLCBzaG9wLklkLCBudWxsKTsKCiAgICAgICAgICAgICAgICBSZWRpc0NhY2hlQ2xpZW50LlNldChzaG9wVXNlcktleSwgdHJ1ZSwgRGF0ZVRpbWUuVXRjTm93LkFkZEhvdXJzKDEpKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH1WCg==</text>
      </register>
      <register name="8" type="4">
        <text encoding="base64">ICBwdWJsaWMgdm9pZCBTZXRTZWxsZXJUcmFja2luZyhTaG9wRW50aXR5IHNlbGxlciwgUHJvZHVjdERldGFpbFZpZXdNb2RlbCBwcm9kdWN0RGV0YWlsVmlld01vZGVsKQogICAgICAgIHsKICAgICAgICAgICAgVmlld0JhZy5GYWNlYm9va0NvbnRlbnRUcmFja2luZ1ZpZXdNb2RlbCA9IEZhY2Vib29rQ29udGVudFRyYWNraW5nVmlld01vZGVsLk1hcChwcm9kdWN0RGV0YWlsVmlld01vZGVsKTsKCiAgICAgICAgICAgIFNldFNlbGxlclRyYWNraW5nKFNob3ApOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgU2V0U2VsbGVyVHJhY2tpbmcoU2hvcEVudGl0eSBzZWxsZXIsIGJvb2wgaXNDaGVja291dFBhZ2UgPSBmYWxzZSkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBtb2RlbCA9IFNob3BUcmFja2luZ1ZpZXdNb2RlbC5NYXAoc2VsbGVyLCBpc0NoZWNrb3V0UGFnZSk7CgogICAgICAgICAgICAvLyBMaW5rZXIgRG9tYWlucwogICAgICAgICAgICBpZiAoQXBwUmVnaXN0cnlIZWxwZXIuSXNBcHBJbnN0YWxsZWQoQ29udHJvbGxlckNvbnRleHQsIENvbnN0YW50cy5BcHBzLkN1c3RvbURvbWFpbiwgc2VsbGVyLklkKSAmJiAhc3RyaW5nLklzTnVsbE9yRW1wdHkoc2VsbGVyLlNob3BEb21haW4pKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgZG9tYWluID0gUmVxdWVzdC5HZXREb21haW5JbmZvcm1hdGlvbigpLkRvbWFpblR5cGUgPT0gRG9tYWluVHlwZS5DdXN0b21Eb21haW4KICAgICAgICAgICAgICAgICAgICA/ICJzZWx6LmNvbSIKICAgICAgICAgICAgICAgICAgICA6IHNlbGxlci5TaG9wRG9tYWluOwoKICAgICAgICAgICAgICAgIG1vZGVsLkdvb2dsZUFuYWx5dGljc0xpbmtlckRvbWFpbnMuQWRkKGRvbWFpbik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChtb2RlbC5Hb29nbGVBbmFseXRpY3NMaW5rZXJEb21haW5zICE9IG51bGwgJiYgbW9kZWwuR29vZ2xlQW5hbHl0aWNzTGlua2VyRG9tYWlucy5BbnkoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbW9kZWwuR29vZ2xlQW5hbHl0aWNzTGlua2VyRG9tYWlucyA9IG1vZGVsLkdvb2dsZUFuYWx5dGljc0xpbmtlckRvbWFpbnMuRGlzdGluY3QoKS5Ub0xpc3QoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKFZpZXdCYWcuR29vZ2xlQWRzVHJhY2tpbmdWaWV3TW9kZWwgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIG1lcmNoYW50QWNjb3VudCA9IHNlbGxlci5PQXV0aENvbm5lY3RlZEFjY291bnRzPy5GaXJzdE9yRGVmYXVsdCh4ID0+IHguUHJvdmlkZXIgPT0gQ29uc3RhbnRzLk9BdXRoLkdvb2dsZU1lcmNoYW50KTsKICAgICAgICAgICAgICAgIHZhciBhZHNBY2NvdW50ID0gc2VsbGVyLk9BdXRoQ29ubmVjdGVkQWNjb3VudHM/LkZpcnN0T3JEZWZhdWx0KHggPT4geC5Qcm92aWRlciA9PSBDb25zdGFudHMuT0F1dGguR29vZ2xlQWRzKTsKICAgICAgICAgICAgICAgIGlmIChtZXJjaGFudEFjY291bnQgIT0gbnVsbCAmJiBhZHNBY2NvdW50ICE9IG51bGwpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGdvb2dsZU1lcmNoYW50U2V0dGluZ3MgPSBHb29nbGVNZXJjaGFudFNlcnZpY2UuR2V0R29vZ2xlTWVyY2hhbnRTZXR0aW5ncyhzZWxsZXIuSWQpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZ29vZ2xlTWVyY2hhbnRTZXR0aW5ncyAhPSBudWxsICYmICFnb29nbGVNZXJjaGFudFNldHRpbmdzLlVzZUV4aXN0aW5nQ29udmVyc2lvblRyYWNraW5nKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDYW1wYWlnbiA9IFJlcXVlc3QuR2V0Q2FtcGFpZ24oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXJjaGFudFNhbGVzQ2hhbm5lbCA9IFByb2R1Y3Q/LlNhbGVzQ2hhbm5lbHM/LkZpcnN0T3JEZWZhdWx0KHggPT4geC5TYWxlc0NoYW5uZWxUeXBlID09IFNhbGVzQ2hhbm5lbFR5cGUuR29vZ2xlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIFZpZXdCYWcuR29vZ2xlQWRzVHJhY2tpbmdWaWV3TW9kZWwgPSBuZXcgR29vZ2xlQWRzVHJhY2tpbmdWaWV3TW9kZWwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29udmVyc2lvbklkID0gZ29vZ2xlTWVyY2hhbnRTZXR0aW5ncy5Db252ZXJzaW9uSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJzaW9uTGFiZWwgPSBnb29nbGVNZXJjaGFudFNldHRpbmdzLkNvbnZlcnNpb25MYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lcmNoYW50UHJvZHVjdElkID0gc3RyaW5nLklzTnVsbE9yRW1wdHkoY3VycmVudENhbXBhaWduPy5NZXJjaGFudFByb2R1Y3RJZCkgPyBtZXJjaGFudFNhbGVzQ2hhbm5lbD8uUHJvZHVjdElkIDogY3VycmVudENhbXBhaWduLk1lcmNoYW50SWQKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFZpZXdCYWcuU2hvcFRyYWNraW5nVmlld01vZGVsID0gbW9kZWw7CiAgICAgICAgfQ==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAgIH0K</text>
      </register>
      <register name="-" type="4">
        <text>and</text>
      </register>
      <register name="/" type="4">
        <text encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</text>
      </register>
    </registers>
    <search>
      <last-search encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</last-search>
      <last-offset />
      <last-pattern encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</last-pattern>
      <last-dir>1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry encoding="base64">XDxjb250ZW50XD4=</entry>
        <entry encoding="base64">XDxIdG1sU3RyaW5nXD4=</entry>
        <entry encoding="base64">XDxTdHJpbmdIdG1sQ29udGVudFw+</entry>
        <entry encoding="base64">XDxhbmFseXRpY3NcPg==</entry>
        <entry encoding="base64">XDxfbWVtb3J5Q2FjaGVDbGllbnRcPg==</entry>
        <entry encoding="base64">XDxfZ29vZ2xlU2V0dGluZ3NcPg==</entry>
        <entry encoding="base64">XDxfaG9zdGluZ1w+</entry>
        <entry encoding="base64">XDxfYnVuZGxlSGVscGVyXD4=</entry>
        <entry encoding="base64">XDxTY3JlZW5SZWFkZXJPbmx5XD4=</entry>
        <entry encoding="base64">XDxJbnN0YWxsZWRUaGVtZVw+</entry>
        <entry encoding="base64">XDxTZWx6XD4=</entry>
        <entry encoding="base64">XDxHZXRQYWdlXD4=</entry>
        <entry>inter</entry>
        <entry encoding="base64">XDxlZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxFZGl0YWJsZVJlZ2lvbkFyZ3VtZW50c1w+</entry>
        <entry encoding="base64">XDxwYXJ0aWFsQmxvY2tNb2RlbFw+</entry>
      </history-search>
      <history-cmd />
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed C</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed S</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Y</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed X</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>